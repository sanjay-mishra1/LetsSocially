(this["webpackJsonpletssocially-client"]=this["webpackJsonpletssocially-client"]||[]).push([[0],{204:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),o=a.n(s),r=a(23),i=a.n(r),c=a(8),l=a(9),d=a(11),p=a(10),h=(a(204),a(13)),u=a(65),j=a(161),b=a(64),m=a(5),g="SET_AUTHENTICATED",f="SET_UNAUTHENTICATED",O="SET_USER",x="LOADING_USER",y="MARK_NOTIFICATIONS_READ",v="FOLLOW_LIST",w="HANDLE_FOLLOWING_LIST",C="SET_ERRORS",S="LOADING_UI",k="CLEAR_ERRORS",I="LOADING_DATA",N="STOP_LOADING_DATA",E="STOP_LOADING_UI",T="SET_SCREENS",F="SET_SCREEN",A="LIKE_SCREEN",U="UNLIKE_SCREEN",R="DELETE_SCREEN",B="POST_SCREEN",P="SUBMIT_COMMENT",D="FOLLOW_SUGGESTIONS",L="SET_MEDIA",M="SEARCH_ACTIVE",z="SEARCH_INACTIVE",W="SEARCH_DATA",Y="ADD_POLL_RESPONSE",H="ADD_USER_POLL_RESPONSE",G="NEWS_DATA",V="ERROR",q="MESSAGE",X="CLEAR_CUSTOM_MESSAGE",J="SET_DATA",Z={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[],error:"",message:""},Q={screens:[],screen:{},loading:!1,user:{screens:[],user:{}}},K={loading:!1,errors:null,searchActive:!1,searchInactive:!0},_=[j.a],$=Object(u.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(m.a)(Object(m.a)({},e),{},{authenticated:!0});case f:return Z;case O:return Object(m.a)({authenticated:!0,loading:!1},t.payload);case x:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case A:return Object(m.a)(Object(m.a)({},e),{},{likes:[].concat(Object(b.a)(e.likes),[{userHandle:e.credentials.handle,screenId:t.payload.screenId}])});case U:return Object(m.a)(Object(m.a)({},e),{},{likes:e.likes.filter((function(e){return e.screenId!==t.payload.screenId}))});case y:return e.notifications.forEach((function(e){return e.read=!0})),Object(m.a)({},e);case V:return console.log("dispatching error",t.payload),Object(m.a)(Object(m.a)({},e),{},{error:t.payload});case q:return console.log("dispatching message",t.payload),Object(m.a)(Object(m.a)({},e),{},{message:t.payload});case X:return Object(m.a)(Object(m.a)({},e),{},{message:null,error:null});case H:return e.pollsResponse.push(t.payload),Object(m.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case N:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case w:console.log(e,"payload",t.payload);var a=e.user.user,n=t.payload.isFollower;if(console.log(t.payload,a),a)if(n?a.followers?a.followers=a.followers+t.payload.value:a.followers=1:a.following?a.following=a.following+t.payload.value:a.following=1,n)if(a.followers_list)if(1===t.payload.value)a.followers_list.push(t.payload.userHandle);else{var s=a.followers_list.indexOf(t.payload.userHandle);s>-1&&a.followers_list.splice(s,1)}else a.followers_list=[],1===t.payload.value&&a.followers_list.push(t.payload.userHandle);else if(a.following_list)if(1===t.payload.value)a.following_list.push(t.payload.userHandle);else{var o=a.following_list.indexOf(t.payload.userHandle);o>-1&&a.following_list.splice(o,1)}else a.following_list=[],1===t.payload.value&&a.following_list.push(t.payload.userHandle);return Object(m.a)(Object(m.a)({},e),{},{users:{user:a}});case J:var r={};try{console.log(t.payload),t.payload&&t.payload.hasOwnProperty("screens")?r.screens=t.payload.screens:r.screens=e.user.screens,t.payload&&t.payload.hasOwnProperty("user")?r.user=t.payload.user:r.user=e.user.user}catch(p){console.log(p),console.log(e)}return Object(m.a)(Object(m.a)({},e),{},{user:r,loading:!1});case T:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,screens:t.payload});case A:case U:var i=e.screens.findIndex((function(e){return e.screenId===t.payload.screenId}));e.screens[i]=t.payload,e.screen.screenId===t.payload.screenId&&(e.screen.likeCount=t.payload.likeCount);var c=e.user.screens.findIndex((function(e){return e.screenId===t.payload.screenId}));return e.user.screens[c]=t.payload,e.screen.screenId===t.payload.screenId&&(e.screen.likeCount=t.payload.likeCount),console.log("new screens",e.screens),Object(m.a)(Object(m.a)({},e),{},{screen:e.screen,user:Object(m.a)({},e.user)});case P:return Object(m.a)(Object(m.a)({},e),{},{screen:Object(m.a)(Object(m.a)({},e.screen),{},{comments:[t.payload].concat(Object(b.a)(e.screen.comments))})});case Y:console.log(e.screens);var l=e.screens.findIndex((function(e){return e.screenId===t.payload.screenId}));return e.screens[l].polls.polls[t.payload.response].votes+=1,e.screens[l].key=e.screens[l].screenId+"1",console.log(e.screens[l]),Object(m.a)(Object(m.a)({},e),{},{screens:e.screens});case R:var d=e.screens.findIndex((function(e){return e.screenId===t.payload}));return e.screens.splice(d,1),Object(m.a)({},e);case F:return console.log("data received ",t.payload),Object(m.a)(Object(m.a)({},e),{},{loading:!1,screen:t.payload});case L:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,media:t.payload});case B:return Object(m.a)(Object(m.a)({},e),{},{open:!1,screens:[t.payload].concat(Object(b.a)(e.screens))});case W:console.log(t.payload);try{return Object(m.a)(Object(m.a)({searchActive:!0,searchInactive:!1},e),{},{searchResult:t.payload.searchResult})}catch(h){return Object(m.a)(Object(m.a)({searchActive:!0,searchInactive:!1},e),{},{searchResult:t.payload})}case G:return console.log("news received",t.payload),Object(m.a)(Object(m.a)({},e),{},{news:t.payload});case v:return console.log("received follow list",t.payload),Object(m.a)(Object(m.a)({},e),{},{usersList:t.payload});case D:return Object(m.a)(Object(m.a)({},e),{},{suggestions:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errors:t.payload});case k:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,errors:null});case S:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case E:return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case M:return console.log("Data reducer","search active"),Object(m.a)(Object(m.a)({},e),{},{searchActive:!0,searchInactive:!1});case z:return console.log("Data reducer","search inactive"),Object(m.a)(Object(m.a)({},e),{},{searchActive:!1,searchInactive:!0});default:return e}}}),ee=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.d)(u.a.apply(void 0,_)),te=Object(u.e)($,{},ee),ae=a(19),ne=a.n(ae),se=function(){return function(e){localStorage.removeItem("FBIdToken"),localStorage.removeItem("handle"),delete ne.a.defaults.headers.common.Authorization,e({type:f}),"login"===window.location.href.includes&&"signup"===window.location.href.includes||(window.location.href="/login")}},oe=function(){return function(e){e({type:x}),ne.a.get("/user").then((function(t){t.data=t.data.userData,console.log("Profile at getUserData",t.data),localStorage.setItem("handle",t.data.credentials.handle),e({type:O,payload:t.data})})).catch((function(t){try{t.response.data.code&&"auth/id-token-expired"===t.response.data.code&&(localStorage.getItem("handle")&&localStorage.removeItem("handle"),e({type:f}))}catch(a){}console.log(t)}))}},re=function(e,t){return function(a){console.log("sending follow request"),console.log("handle",e),ne.a.post("/follow/".concat(e)).then((function(n){console.log("dispatching message action",n.data.message),a({type:w,payload:{value:1,userHandle:e,isFollower:window.location.href.includes(localStorage.handle)?!t:t}});try{a({type:q,payload:n.data.message})}catch(s){console.log(s)}})).catch((function(e){var t;t=e.response.data.code&&"auth/id-token-expired"===e.response.data.code?"Login to follow the user":e.respone.error,console.log("dispatching error action",t),a({type:V,payload:t})}))}},ie=function(e){return function(t){console.log("handle",e),ne.a.post("/unfollow/".concat(e)).then((function(a){t({type:q,payload:a.data.message}),t({type:w,isFollower:e===localStorage.handle,payload:{value:-1,userHandle:e,isFollower:e===localStorage.handle}}),console.log("dispatching message action",a.data.message)})).catch((function(e){var a;console.log(e),a=e.response.data.code&&"auth/id-token-expired"===e.response.data.code?"Login to unfollow the user":e.respone.error,console.log("dispatching error action",a),t({type:V,payload:a})}))}},ce=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),ne.a.defaults.headers.common.Authorization=t},le=a(20),de=a(27),pe=a(301),he=a(127),ue=a.n(he),je=a(162),be=a(176),me=Object(h.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,s=Object(be.a)(e,["component","authenticated"]);return Object(n.jsx)(de.b,Object(m.a)(Object(m.a)({},s),{},{render:function(e){return!0===a?Object(n.jsx)(de.a,{to:"/"}):Object(n.jsx)(t,Object(m.a)({},e))}}))})),ge=a(302),fe=a(15),Oe=a.n(fe),xe=a(28),ye=a.n(xe),ve=a(100),we=a.n(ve),Ce=a(310),Se=a(317),ke=a(309),Ie=a(67),Ne=a(350),Ee=a(154),Te=function(e){var t=e.children,a=e.onClick,s=e.tip,o=e.btnClassName,r=e.tipClassName,i=e.btId,c=e.inlineCss;return Object(n.jsx)(Ne.a,{title:s,className:r,placement:"bottom",children:Object(n.jsx)(Ee.a,{fontSize:"21px",onClick:a,className:o,id:i,style:c,children:t})})},Fe=a(297),Ae=a(294),Ue=a(295),Re=a(296),Be=a(167),Pe=a.n(Be),De=a(227);a(228);function Le(e,t,a){for(var n=e.split(","),s=n[0].match(/:(.*?);/)[1],o=atob(n[1]),r=o.length,i=new Uint8Array(r);r--;)i[r]=o.charCodeAt(r);return new File([i],t,{type:s})}var Me=function(){return function(e){e({type:k})}},ze=function(e){return function(t){t({type:S}),ne.a.get("/screens/".concat(e)).then((function(e){console.log("Screen recieved",e.data),t({type:F,payload:e.data}),t({type:E})})).catch((function(e){return console.log(e)}))}},We=function(e){return function(t){console.log("getting followings"),t({type:S}),ne.a.get("/followers/".concat(e)).then((function(e){t({type:v,payload:e.data}),t({type:E})})).catch((function(e){t({type:v,payload:null,message:e.response.data.message}),t({type:E})}))}},Ye=function(e){return function(t){console.log("getting followings"),t({type:S}),ne.a.get("/following/".concat(e)).then((function(e){t({type:v,payload:e.data}),t({type:E})})).catch((function(e){t({type:v,payload:null}),t({type:E})}))}},He=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.deleteScreen=function(){e.props.deleteScreen(e.props.screenId),e.setState({open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Te,{tip:"Delete screen",onClick:this.handleOpen,btnClassName:e.deleteButton,children:Object(n.jsx)(Pe.a,{color:"secondary"})}),Object(n.jsxs)(Ae.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:[Object(n.jsx)(Ue.a,{children:"Are you sure you want to delete this screen?"}),Object(n.jsxs)(Re.a,{children:[Object(n.jsx)(Fe.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(n.jsx)(Fe.a,{onClick:this.deleteScreen,color:"secondary",children:"Delete"})]})]})]})}}]),a}(s.Component),Ge=Object(h.b)(null,{deleteScreen:function(e){return function(t){ne.a.delete("/screens/".concat(e)).then((function(){t({type:R,payload:e})})).catch((function(e){console.error(e)}))}}})(Oe()({deleteButton:{float:"right"}})(He)),Ve=a(308),qe=a(7),Xe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.classes;return Object(n.jsx)(ge.a,{container:!0,children:void 0!==t&&t.map((function(e,o){var r=e.body,i=e.createdAt,c=e.userImage,l=e.userHandle;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(ge.a,{item:!0,sm:12,children:Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,sm:3,children:Object(n.jsx)("img",{src:c,alt:"comment",className:a.commentImage})}),Object(n.jsx)(ge.a,{item:!0,sm:9,children:Object(n.jsxs)("div",{className:a.commentData,children:[Object(n.jsx)(Ie.a,{variant:"h5",component:le.b,to:"/users/".concat(l),color:"primary",children:l}),Object(n.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:ye()(i).format("h:mm a, MMMM DD YYYY")}),Object(n.jsx)("hr",{style:{border:"none"}}),Object(n.jsx)(Ie.a,{variant:"body1",color:"primary",children:r})]})})]})}),o!==t.length-1&&Object(n.jsx)("hr",{className:a.visibleSeparator})]},i)}))})}}]),a}(s.Component),Je=Object(qe.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{commentImage:{height:50,width:50,objectFit:"cover",borderRadius:"50%"},commentData:{}})}))(Xe),Ze=a(21),Qe=a(303),Ke=a(346),_e=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={body:"",loading:!1,errors:{}},e.handleChange=function(t){e.setState(Object(Ze.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.submitComment(e.props.screenId,{body:e.state.body}),e.setState({loading:!0})},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.loading?this.setState({loading:!0}):this.setState({loading:!1}),e.UI.errors||e.UI.loading||this.setState({body:""})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authenticated,s=this.state.errors,o=this.state.loading?Object(n.jsx)(Qe.a,{size:20,style:{marginBottom:-11},thickness:2}):Object(n.jsx)(Fe.a,{type:"submit",variant:"contained",color:"primary",className:t.button,children:"Add"});return a?Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)("form",{onSubmit:this.handleSubmit,children:Object(n.jsxs)("table",{style:{width:"100%"},children:[Object(n.jsx)("td",{style:{width:"inherit"},children:Object(n.jsx)(Ke.a,{name:"body",type:"text",autoComplete:"off",label:"Write comment ",error:!!s.comment,helperText:s.comment,value:this.state.body,onChange:this.handleChange,fullWidth:!0,className:t.textField})}),Object(n.jsx)("td",{children:o})]})})}):null}}]),a}(s.Component),$e=Object(h.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{submitComment:function(e,t){return function(a){ne.a.post("/screens/".concat(e,"/comments"),t).then((function(e){a({type:P,payload:e.data}),a(Me())})).catch((function(e){try{console.log(e),a({type:C,payload:e.response.data})}catch(t){console.log(t)}}))}}})(Object(qe.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{formData:{width:"inherit"},formTable:{width:"100%"},formContent:{width:"100%"}})}))(_e)),et=a(314),tt=a(316),at=a(312),nt=a(305),st=a(306),ot=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).likedScreen=function(){return!(!e.props.user.likes||!e.props.user.likes.find((function(t){return t.screenId===e.props.screenId})))},e.likeScreen=function(){e.props.likeScreen(e.props.screenId)},e.unlikeScreen=function(){e.props.unlikeScreen(e.props.screenId)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user.authenticated,t=this.props.classes;return e?this.likedScreen()?Object(n.jsx)(Te,{tip:"unlike screen",btnClassName:t.btStyle,onClick:this.unlikeScreen,children:Object(n.jsx)(st.a,{color:"primary"})}):Object(n.jsx)(Te,{tip:"like screen",onClick:this.likeScreen,btnClassName:t.btStyle,children:Object(n.jsx)(nt.a,{color:"primary"})}):Object(n.jsx)(le.b,{to:"/login",children:Object(n.jsx)(Te,{tip:"like",btnClassName:t.btStyle,children:Object(n.jsx)(nt.a,{color:"primary"})})})}}]),a}(s.Component),rt={likeScreen:function(e){return function(t){console.log("like screen clicked"),ne.a.get("/screens/".concat(e,"/like")).then((function(e){t({type:A,payload:e.data})})).catch((function(e){t({type:A,payload:[]})}))}},unlikeScreen:function(e){return function(t){ne.a.get("/screens/".concat(e,"/unlike")).then((function(e){t({type:U,payload:e.data})})).catch((function(e){t({type:U,payload:[]})}))}}},it=Object(h.b)((function(e){return{user:e.user}}),rt)(Oe()({btStyle:{marginLeft:-13}})(ot)),ct=a(311),lt=a(31),dt=a(307),pt=a(168),ht=a.n(pt);function ut(e){return Object(n.jsx)(ht.a,{autoPlay:!1,style:{height:"-webkit-fill-available",display:"flex"},indicators:!1,animation:"slide",navButtonsAlwaysVisible:1!==e.images.length,navButtonsAlwaysInvisible:1===e.images.length,children:e.images.map((function(t,a){return Object(n.jsx)(jt,{imageContent:e.imageContent,playIconClassName:e.playIconClassName,index:a,item:t,className:e.className},a)}))})}function jt(e){var t=Object(s.useState)(!1),a=Object(lt.a)(t,2),o=a[0],r=a[1],i=Object(s.useState)(!0),c=Object(lt.a)(i,2),l=c[0],d=c[1],p=function(){var t=document.getElementById("".concat(e.index));o?(t.pause(),d(!0)):(d(!1),t.play()),r(!o)};return Object(n.jsx)("div",{className:e.imageContent,children:e.item.includes(".mp4")?Object(n.jsxs)(s.Fragment,{children:[l&&Object(n.jsx)("div",{className:e.playIconClassName,children:Object(n.jsx)(dt.a,{onClick:p,fontSize:"large",style:{color:"#ffffffc4"},htmlColor:"black"})}),Object(n.jsx)("video",{className:e.className,id:"".concat(e.index),onClick:p,onEnded:function(){d(!0),r(!o)},poster:function(){return e.item.replace(e.item.substring(e.item.indexOf("/o/")+3,e.item.indexOf("?")),e.item.substring(e.item.indexOf("/o/")+3,e.item.indexOf("?")-4)+"_preview.png").replace("video","preview")},children:Object(n.jsx)("source",{src:e.item})})]}):Object(n.jsx)("img",{src:e.item,alt:"",className:e.className})})}function bt(e){return Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,xs:"auto",children:Object(n.jsx)("img",{src:e.screen.userImage,alt:"Profile",style:{borderRadius:64,width:75,height:64,margin:10}})}),Object(n.jsxs)(ge.a,{item:!0,xs:9,children:[Object(n.jsxs)(Ie.a,{component:le.b,color:"primary",variant:"h5",to:"/user/".concat(e.screen.userHandle),children:["@",e.screen.userHandle]}),Object(n.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:ye()(e.screen.createdAt).format("h:mm a, MMMM DD YYYY")}),Object(n.jsx)("br",{}),Object(n.jsx)(Ie.a,{variant:"body1",children:e.screen.body}),Object(n.jsx)(it,{screenId:e.screen.screenId},e.screen.screenId),Object(n.jsxs)("span",{children:[e.newLike?e.newLike:e.screen.likeCount," Likes"]}),Object(n.jsx)(Te,{tip:"comment",children:Object(n.jsx)(Ve.a,{color:"primary"})}),Object(n.jsxs)("span",{children:[e.newComment?e.newComment:e.screen.commentCount," comments"]})]})]})}var mt=a.p+"static/media/delete.f08807e5.svg",gt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("audio is loaded ",this.props),Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,xs:11,style:{marginTop:"1em"},children:Object(n.jsx)("audio",{crossOrigin:!0,controls:!0,style:{width:"100%"},children:Object(n.jsx)("source",{src:this.props.uri,type:"audio/mpeg"})})}),"preview"===this.props.type&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(ge.a,{children:Object(n.jsx)("img",{src:mt,alt:"delete",onClick:this.props.item.onRemove,href:"#",index:this.props.item.index,className:"deleteBt",style:{marginTop:13,marginLeft:6}})}),Object(n.jsx)("p",{style:{overflow:"auto",width:"auto",marginTop:"auto"},children:this.props.item.file.name})]}),"Audio"===this.props.type&&Object(n.jsx)("p",{style:{overflow:"auto",width:"auto",marginTop:"auto"},children:this.props.name})]})}}]),a}(s.Component),ft=a(110),Ot=a.n(ft),xt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:!1,oldPath:"",newPath:"",sizes:{one:[12],two:[6,6],three:[12,6,6],four:[6,6,6,6]}},e.handleOpen=function(){var t=window.location.pathname,a=e.props,n=a.userHandle,s=a.screenId,o="/user/".concat(n,"/screen/").concat(s);t===o&&(t="/user/".concat(n)),window.history.pushState(null,null,o),e.setState({open:!0,oldPath:t,newPath:o}),"xs"!==e.props.width&&e.props.getScreen(e.props.screenId)},e.handleClose=function(){window.history.pushState(null,null,e.state.oldPath),e.setState({open:!1}),e.props.clearErrors()},e.getSizeArray=function(t){return 1===t.length?e.state.sizes.one:2===t.length?e.state.sizes.two:3===t.length?e.state.sizes.three:e.state.sizes.four},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.openScreenImageDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.screenDetail,r=t.screenId,i=t.screen,c=i.likeCount,l=i.commentCount,d=i.comments,p=i.screenMedia,h=t.UI.loading,u=p?p.length>4:null,j=[],b=[];o.screenMedia&&o.screenMedia.map((function(e){e.includes(".mp3")?j.push(e):b.push(e)}));var m=o.screenMedia&&j.map((function(e,t){return Object(n.jsx)(gt,{uri:e},t)})),g=o.screenMedia&&b.map((function(t,s){var i=e.getSizeArray(b),c=s%2===0?{paddingRight:1}:{paddingLeft:1};return s<4?Object(n.jsxs)(ge.a,{item:!0,xs:i[s],style:c,children:[Object(n.jsx)(ke.a,{id:"".concat(r,"_").concat(s),image:t.includes(".mp4")?t.replace(t.substring(t.indexOf("/o/")+3,t.indexOf("?")),t.substring(t.indexOf("/o/")+3,t.indexOf("?")-4)+"_preview.png").replace("video","preview"):t,className:a.boxImage,title:o.userHandle,onClick:e.handleOpen,children:t.includes("mp4")&&Object(n.jsx)(Ot.a,{fontSize:"large",style:{color:"#ffffffc4",fontSize:"4em",margin:"auto"}})},s),u&&3===s&&Object(n.jsx)("div",{className:a.imageCount,children:Object(n.jsxs)(Ie.a,{className:a.imageCountNumber,children:["+",p.length-4]})})]}):null})),f=h?Object(n.jsx)("div",{className:a.spinnerDiv,children:Object(n.jsx)(Qe.a,{size:50,thickness:2})}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("hr",{className:a.horizontalDivider}),Object(n.jsx)($e,{screenId:r}),Object(n.jsx)(Je,{comments:d})]});return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(ge.a,{container:!0,children:m}),b.length>0&&Object(n.jsx)(Ce.a,{variant:"outlined",className:a.card,children:Object(n.jsx)(ge.a,{container:!0,children:g})}),Object(n.jsx)(Ae.a,{PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},className:a.root,fullScreen:!0,open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsxs)(ct.a,{className:a.drawer,variant:"permanent",classes:{paper:a.drawerPaper},anchor:"left",children:[Object(n.jsx)(Te,{tip:"Close",onClick:this.handleClose,tipClassName:a.closeButton,btnClassName:a.closeButton,children:Object(n.jsx)(at.a,{htmlColor:"#ffffff"})}),Object(n.jsx)(ut,{images:b,className:a.image,imageContent:a.imageContent,playIconClassName:a.playIcon})]}),Object(n.jsxs)("div",{className:a.content,children:[Object(n.jsx)(bt,{screen:this.props.screenDetail,newLike:c,newComent:l}),f,Object(n.jsx)(Ie.a,{style:{visibility:"hidden"},children:"suspendisse sed nisi lacus sed viverra tellus. Purus sit amet suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse sed nisi lacus sed viverra tellus. Purus sit amet suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse suspendisse"})]})]})})]})}}]),a}(s.Component),yt={getScreen:ze,clearErrors:Me},vt=Object(h.b)((function(e){return{screen:e.data.screen,UI:e.UI}}),yt)(Oe()((function(e){return{boxImage:{height:170,cursor:"pointer",display:"flex"},horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:"auto",borderTop:"0px solid #eff1f3"},spinnerDiv:{textAlign:"center",margin:50,marginBottom:50},profileImage:{maxWidth:200,height:200,borderRadius:"50%",objectFit:"cover"},image:{height:"-webkit-fill-available",objectFit:"contain",maxWidth:"-webkit-fill-available",maxHeight:"-webkit-fill-available"},closeButton:{float:"right",position:"absolute",zIndex:"inherit"},scroll:{flexGrow:1,overflow:"auto",minHeight:"100%"},imageCount:{height:171.4,position:"absolute",zIndex:1,width:"15%",marginTop:"-15.42%",backgroundColor:"#00000045",marginLeft:"11.7%"},imageCountNumber:{marginTop:"32%",color:"white",marginRight:"40%",float:"right",fontSize:"xx-large"},card:{marginTop:"1em"},root:{display:"flex",height:"-webkit-fill-available"},drawer:Object(Ze.a)({width:"60%",flexShrink:0},e.breakpoints.down("xs"),{width:"100%"}),drawerPaper:Object(Ze.a)({backgroundColor:"transparent",width:"60%"},e.breakpoints.down("xs"),{width:"100%"}),toolbar:e.mixins.toolbar,content:Object(Ze.a)({height:"fit-content",flexGrow:1,paddingBottom:"33em",backgroundColor:e.palette.background.default,padding:e.spacing(3)},e.breakpoints.down("xs"),{display:"none"}),playIcon:{left:"50%",margin:"-64px 0 0 -64px",position:"absolute",top:"50%",cursor:"pointer",zIndex:1},imageContent:{alignItems:"center",justifyContent:"center",display:"flex"}}}))(xt)),wt=a(112),Ct=a(315),St=a(169),kt=a.n(St),It=a(349),Nt=a(313),Et=Object(h.b)((function(e){return{user:e.user.credentials}}),null)((function(e){var t=o.a.useState(e.user.following_list&&e.user.following_list.includes(e.userHandle)?"UnFollow":e.user.followers_list&&e.user.followers_list.includes(e.userHandle)?"Follow":e.defaultText?e.defaultText:"Follow"),a=Object(lt.a)(t,2),s=a[0],r=a[1];return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(Fe.a,{onClick:function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),"Follow"===s?(r("Following"),te.dispatch(re(e.userHandle,!0))):(r("Follow"),te.dispatch(ie(e.userHandle)))},color:"primary",variant:"outlined",children:s})})})),Tt=Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{image:{width:50,height:50,borderRadius:"50%"}})}))((function(e){var t=Object(de.g)(),a=e.classes,o=e.vertical,r=e.extraData,i=e.defaultText,c=e.user,l=c.userHandle,d=c.username,p=c.userImage;c.type;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)(ge.a,{justify:"flex-start",alignItems:"flex-start",alignContent:"flex-start",spacing:1,style:o?{justifyContent:"center"}:null,className:a.link,container:!0,onClick:function(){te.dispatch({type:M}),console.log("clicked"),t.push("/user/".concat(e.user.userHandle))},children:[Object(n.jsxs)(ge.a,{item:!0,children:[o&&Object(n.jsx)("br",{}),Object(n.jsx)("img",{src:p,alt:l,className:a.image})]}),Object(n.jsxs)(ge.a,{item:!0,xs:o?12:"auto",style:o?{textAlign:"center"}:null,children:[Object(n.jsx)(Ie.a,{style:{marginTop:"auto"},className:a.title,children:l}),Object(n.jsx)(Ie.a,{className:a.subTitle,children:d}),r]}),e.showBt&&l!==localStorage.handle&&Object(n.jsxs)(ge.a,{item:!0,style:{margin:"auto"},children:[Object(n.jsx)(Et,{defaultText:i,userHandle:l}),o&&Object(n.jsx)("p",{})]})]}),!o&&Object(n.jsx)("hr",{className:a.horizontalDivider})]})})),Ft=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.actionMethod(this.props.actionValue)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.users,i=t.UI.loading;console.log(this.props);var c=i?Object(n.jsx)("div",{className:a.spinnerDiv,children:Object(n.jsx)(Qe.a,{size:30,thickness:2})}):r&&r.length>0?r.map((function(t,a){var s;return t.polls&&t.hasOwnProperty("response")&&(s=Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)("table",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(Nt.a,{color:"primary"})}),Object(n.jsx)("td",{children:Object(n.jsxs)("span",{children:[" ","selected ",e.props.polls[t.response].body]})})]})})})),Object(n.jsx)(Tt,{defaultText:e.props.defaultText,showBt:e.props.showBt,extraData:s,user:t},a)})):Object(n.jsxs)("p",{children:["No ",this.props.method.toLowerCase()," found"]});return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(Ae.a,{open:this.props.open,onClose:this.props.handleClose,fullScreen:"sm"===this.props.width||"xs"===this.props.width,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[Object(n.jsx)(Te,{tip:"Close",onClick:this.props.handleClose,tipClassName:a.closeButton,children:Object(n.jsx)(at.a,{})}),Object(n.jsx)(Ue.a,{id:"responsive-dialog-title",children:this.props.method}),Object(n.jsx)(et.a,{dividers:!0,className:a.dialogContent,children:c})]})})}}]),a}(s.Component),At={getFollowersList:We,clearErrors:Me,getFollowingList:Ye},Ut=Object(It.a)()(Object(h.b)((function(e){return{users:e.data.usersList,UI:e.UI}}),At)(Object(qe.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{profileImage:{maxWidth:200,height:200,borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%",marginTop:10},expandButton:{float:"right"},spinnerDiv:{textAlign:"center",margin:50,marginBottom:50}})}))(Ft))),Rt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={response:-1,open:!1,colors:["#0084fd","#369fffeb","#75bcfdd9","#b0d9ff"]},e.handleClose=function(){e.setState({open:!1})},e.pollResponseGiven=function(){if(e.props.user.pollsResponse){var t=e.props.user.pollsResponse.findIndex((function(t){return t.screenId===e.props.screenId}));if(-1!==t)return e.state.response!==e.props.user.pollsResponse[t].response&&e.setState({response:e.props.user.pollsResponse[t].response}),!0}return null},e.showUsers=function(){if(localStorage.handle===e.props.userHandle){var t=[];e.props.poll.polls.forEach((function(e){t.push(e)})),e.props.openUserList("Votes",e.props.getScreenPollVoters,t)}},e.showPoll=function(t,a,s){return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[Object(n.jsxs)("p",{className:e.props.classes.margin,children:[t,"%"]}),Object(n.jsx)(wt.a,{className:e.props.classes.margin,style:{height:"100%",width:"".concat(t,"%"),backgroundColor:e.state.colors[s]},children:Object(n.jsxs)("span",{style:{whiteSpace:"pre"},children:[" ",a.body]})}),e.state.response===s&&Object(n.jsx)(kt.a,{fontSize:"small",className:e.props.classes.margin,color:"primary"})]})})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.poll,s=(t.forecedShowPollResult,[]),r=0;a.polls&&Object.keys(a.polls).length&&a.polls.forEach((function(e){s.push(e),r+=e.votes}));var i=s.map((function(t,a){var n=0===r?0:Number(t.votes/r*100).toFixed(0);return e.showPoll(n,t,a)})),c=Object(n.jsx)(o.a.Fragment,{children:a.pollsAttributes.pollsExpiry<=(new Date).getTime()?i:Object(n.jsx)("div",{style:{textAlign:"-webkit-center"},children:s.map((function(t,a){return Object(n.jsx)(Fe.a,{fullWidth:!0,variant:"outlined",style:{margin:5,width:"95%",textTransform:"none",fontWeight:"bold"},index:a,color:"primary",onClick:e.props.pollSelected,children:t.body},a)}))})});return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsxs)(wt.a,{variant:"outlined",children:[null!==this.pollResponseGiven()?i:c,Object(n.jsx)(Ct.a,{}),Object(n.jsxs)("div",{style:{margin:10},children:[Object(n.jsxs)("span",{onClick:this.showUsers,style:localStorage.handle===this.props.userHandle?{cursor:"pointer",color:"#5B7083"}:{color:"#5B7083"},children:[r," votes"]}),Object(n.jsx)("span",{style:{color:"#5B7083",margin:5},children:"\u2022"}),Object(n.jsx)("span",{style:{color:"#5B7083"},children:a.pollsAttributes.pollsExpiry>=(new Date).getTime()?"Expire ".concat(this.props.dayjs(a.pollsAttributes.pollsExpiry).fromNow()):"Final Results"})]})]})})}}]),a}(s.Component),Bt={getScreenPollVoters:function(e){return function(t){t({type:S}),ne.a.get("/votes/".concat(e)).then((function(e){t({type:v,payload:e.data}),t({type:E})})).catch((function(e){console.log(e),t({type:v,payload:null,message:e.response.data.message}),t({type:E})}))}}},Pt=Object(h.b)((function(e){return{user:e.user}}),Bt)(Oe()({btStyle:{marginLeft:-13},margin:{marginLeft:3,marginRight:3}})(Rt)),Dt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:!1,oldPath:"",newPath:""},e.handleOpen=function(){var t=e.props,a=t.userHandle,n=t.screenId;if(e.props.isHaveScreenMedia&&"xs"!==e.props.width)document.getElementById("".concat(n,"_0")).click();else{var s=window.location.pathname,o="/user/".concat(a,"/screen/").concat(n);s===o&&(s="/user/".concat(a)),window.history.pushState(null,null,o),e.setState({open:!0,oldPath:s,newPath:o}),e.props.getScreen(e.props.screenId)}},e.handleClose=function(){window.history.pushState(null,null,e.state.oldPath),e.setState({open:!1}),e.props.clearErrors()},e.pollSelected=function(t){try{var a=-1;a=null!==t.target.getAttribute("index")?t.target.getAttribute("index"):e.getIndexFromJsonArray(t.target.innerText)}catch(n){}-1!==a&&(e.props.addPollResponse(e.props.screen.screenId,{response:a}),e.setState({showPollResult:!0}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,o=this.props.data,r=o.screen,i=o.screen,c=i.screenId,l=i.body,d=i.createdAt,p=i.likeCount,h=i.commentCount,u=i.userImage,j=i.userHandle,b=i.comments,m=i.screenMedia,g=i.polls,f=a?Object(n.jsx)("div",{className:t.spinnerDiv,children:Object(n.jsx)(Qe.a,{size:50,thickness:2})}):Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,children:Object(n.jsx)("img",{src:u,alt:"Profile",className:t.profileImage})}),Object(n.jsxs)(ge.a,{item:!0,xs:9,lg:9,sm:9,children:[Object(n.jsxs)(Ie.a,{component:le.b,color:"primary",variant:"h5",to:"/user/".concat(j),children:["@",j]}),Object(n.jsx)("hr",{className:t.invisibleSeparator}),Object(n.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:ye()(d).format("h:mm a, MMMM DD YYYY")}),Object(n.jsx)("hr",{className:t.invisibleSeparator}),l&&l.split(" ").map((function(e){return e.startsWith("#")?Object(n.jsx)(Ie.a,{component:le.b,to:"/search/?type=hashtag&key=".concat(e.replace("#","")),children:" "+e}):" "+e})),g&&Object.keys(g).length>0&&Object(n.jsx)(Pt,{pollSelected:this.pollSelected,dayjs:ye.a,forecedShowPollResult:this.state.showPollResult,screenId:c,userHandle:j,poll:g}),m&&m.length>0&&Object(n.jsx)(vt,{screenDetail:r,screenId:c,userHandle:j,openDialog:this.props.openScreenImageDialog}),Object(n.jsx)(it,{screenId:c},c),Object(n.jsxs)("span",{children:[p," Likes"]}),Object(n.jsx)(Te,{tip:"comment",children:Object(n.jsx)(Ve.a,{color:"primary"})}),Object(n.jsxs)("span",{children:[h," comments"]})]}),Object(n.jsx)($e,{screenId:c}),Object(n.jsx)(Je,{comments:b})]});return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Te,{onClick:this.handleOpen,tip:"Expand screen",tipClassName:t.expandButton,children:Object(n.jsx)(tt.a,{color:"primary"})}),Object(n.jsxs)(Ae.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,fullScreen:"xs"===this.props.width,maxWidth:"xs"!==this.props.width&&"sm",children:[Object(n.jsx)(Te,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton,children:Object(n.jsx)(at.a,{})}),Object(n.jsx)(et.a,{className:t.dialogContent,children:f})]})]})}}]),a}(s.Component),Lt={getScreen:ze,clearErrors:Me},Mt=Object(h.b)((function(e){return{data:e.data,UI:e.UI}}),Lt)(Object(qe.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{profileImage:{maxWidth:200,height:60,width:60,borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%"},expandButton:{float:"right"},spinnerDiv:{textAlign:"center",margin:50,marginBottom:50}})}))(Dt)),zt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={showPollResult:!1,open:!1,extraData:[]},e.pollSelected=function(t){try{var a=-1;a=null!==t.target.getAttribute("index")?t.target.getAttribute("index"):e.getIndexFromJsonArray(t.target.innerText)}catch(n){}-1!==a&&(e.props.addPollResponse(e.props.screen.screenId,{response:a}),e.setState({showPollResult:!0}))},e.getIndexFromJsonArray=function(t){for(var a=0,n=0;n<e.props.screen.polls.polls.length;n++){if(e.props.screen.polls.polls[n].body.includes(t))return a;a++}return-1},e.handleLikeCountClick=function(){console.log("like count clicked"),e.setState({methodName:"Likes",actionMethod:e.props.getScreenLikes,open:!0})},e.openUserList=function(t,a,n){console.log("openUserList, clicked"),e.setState({methodName:t,actionMethod:a,open:!0,extraData:n})},e.handleClose=function(){e.setState({open:!1,methodName:"",extraData:[],actionMethod:null})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.screen,s=a.body,r=a.createdAt,i=a.userImage,c=a.userHandle,l=a.screenId,d=a.likeCount,p=a.commentCount,h=a.screenMedia,u=a.polls,j=e.user,b=j.authenticated,m=j.credentials.handle,g=e.screen;console.log(l,d),ye.a.extend(we.a);var f=b&&c===m?Object(n.jsx)(Ge,{screenId:l}):null;return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)(Ce.a,{variant:"outlined",children:[Object(n.jsxs)("div",{className:t.content1,children:[Object(n.jsx)(ke.a,{image:i,title:"Profile image",className:t.image}),Object(n.jsxs)(Se.a,{style:{width:"-webkit-fill-available"},children:[Object(n.jsx)(Ie.a,{variant:"h6",color:"primary",component:le.b,to:"/user/".concat(c),children:c}),f,Object(n.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:ye()(r).fromNow()})]})]}),Object(n.jsxs)(Se.a,{className:t.content,children:[Object(n.jsx)(Ie.a,{className:t.message,variant:"body1",children:s.split(" ").map((function(e){return e.startsWith("#")?Object(n.jsx)(Ie.a,{component:le.b,to:"/search/?type=hashtag&key=".concat(e.replace("#","")),children:" "+e}):" "+e}))}),h&&h.length>0&&Object(n.jsx)(vt,{screenDetail:g,screenId:l,width:this.props.width,userHandle:c,openDialog:this.props.openScreenImageDialog}),u&&Object.keys(u).length>0&&Object(n.jsx)(Pt,{pollSelected:this.pollSelected,dayjs:ye.a,openUserList:this.openUserList,forecedShowPollResult:this.state.showPollResult,screenId:l,userHandle:c,poll:u}),Object(n.jsx)(it,{screenId:l},l),Object(n.jsxs)("span",{style:{cursor:"pointer"},onClick:this.handleLikeCountClick,className:t.infoColor,children:[d," likes"]}),Object(n.jsx)(Te,{tip:"comment",children:Object(n.jsx)(Ve.a,{color:"primary"})}),Object(n.jsx)("span",{className:t.infoColor,children:p}),Object(n.jsx)(Mt,{screenId:l,width:this.props.width,isHaveScreenMedia:h&&h.length>0,userHandle:c,openDialog:this.props.openDialog})]})]}),this.state.open&&Object(n.jsx)(Ut,{method:this.state.methodName,open:this.state.open,actionMethod:this.state.actionMethod,actionValue:l,handleClose:this.handleClose,polls:this.state.extraData})]})}}]),a}(s.Component),Wt=Object(It.a)()(Object(h.b)((function(e){return{user:e.user}}),{addPollResponse:function(e,t){return function(a){ne.a.post("/screens/".concat(e,"/addPollResponse"),t).then((function(e){console.log("Added ",e),a({type:Y,payload:e.data}),a({type:H,payload:e.data})})).catch((function(e){console.log(e)}))}},getScreenLikes:function(e){return function(t){t({type:S}),ne.a.get("/likes/".concat(e)).then((function(e){t({type:v,payload:e.data}),t({type:E})})).catch((function(e){t({type:v,payload:null,message:e.response.data.message}),t({type:E})}))}}})(Oe()({card:{marginBottom:20},content1:{display:"flex",width:"-webkit-fill-available",objectFit:"cover",padding:"inherit",marginTop:4,textAlign:"start"},hashtag:{color:"#369fff"},image:{borderRadius:64,width:75,height:64,margin:10},content:{width:"-webkit-fill-available",objectFit:"cover",padding:"inherit",marginTop:4,textAlign:"start"},message:{color:"rgb(15, 20, 25)",margin:10},infoColor:{color:"#5B7083",fontSize:15}})(zt))),Yt="data:image/png;base64,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",Ht=a(76),Gt=a.n(Ht),Vt=a(77),qt=a.n(Vt),Xt=a(78),Jt=a.n(Xt),Zt=Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{handle:{height:20,backgroundColor:e.palette.primary.main,width:60,margin:"0px auto 7px auto"},svgIcon:{float:"left",marginTop:6},spanArea:{width:"79%",height:18,marginStart:"10px",marginTop:10,display:"inline-block",marginBottom:10,backgroundColor:"rgba(0,0,0,0.3)"},fullLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"100%",marginBottom:10},halfLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"50%",marginBottom:10}})}))((function(e){var t=e.classes;return Object(n.jsx)(wt.a,{className:t.paper,children:Object(n.jsxs)("div",{className:t.profile,children:[Object(n.jsx)("div",{className:"image-wrapper",children:Object(n.jsx)("img",{src:Yt,alt:"profile",className:"profile-image"})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"profile-details",children:[Object(n.jsx)("div",{className:t.handle}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:t.fullLine}),Object(n.jsx)("div",{className:t.halfLine}),Object(n.jsx)("hr",{}),Object(n.jsx)(Gt.a,{className:t.svgIcon,color:"primary"}),Object(n.jsx)("span",{className:t.spanArea}),Object(n.jsx)("br",{}),Object(n.jsx)(qt.a,{className:t.svgIcon,color:"primary"}),Object(n.jsx)("span",{className:t.spanArea}),Object(n.jsx)("br",{}),Object(n.jsx)(Jt.a,{className:t.svgIcon,color:"primary"}),Object(n.jsx)("span",{className:t.spanArea})]})]})})})),Qt=a(318),Kt=a(88),_t=a.n(Kt),$t=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={bio:"",website:"",location:"",open:!1},e.mapUserDetailsToState=function(t){e.setState({bio:t.bio?t.bio:"",website:t.website?t.website:"",location:t.location?t.location:""})},e.handleOpen=function(){e.setState({open:!0}),e.mapUserDetailsToState(e.props.credentials)},e.handleClose=function(){e.setState({open:!1})},e.handleChange=function(t){e.setState(Object(Ze.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t={bio:e.state.bio,website:e.state.website,location:e.state.location};e.props.editUserDetails(t),e.handleClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.credentials;this.mapUserDetailsToState(e)}},{key:"render",value:function(){var e=this.props.classes;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Te,{tip:"Edit details",btId:"editDetails",btnClassName:e.hiddenBt,onClick:this.handleOpen,children:Object(n.jsx)(_t.a,{color:"primary"})}),Object(n.jsxs)(Ae.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:[Object(n.jsx)(Ue.a,{children:"Edit your details"}),Object(n.jsx)(et.a,{children:Object(n.jsxs)("form",{children:[Object(n.jsx)(Ke.a,{name:"bio",tpye:"text",label:"Bio",multiline:!0,rows:"3",placeholder:"A short bio about yourself",className:e.textField,value:this.state.bio,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{name:"website",tpye:"text",label:"Website",placeholder:"Your personal/professinal website",className:e.textField,value:this.state.website,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{name:"location",tpye:"text",label:"Location",placeholder:"Where you live",className:e.textField,value:this.state.location,onChange:this.handleChange,fullWidth:!0})]})}),Object(n.jsxs)(Re.a,{children:[Object(n.jsx)(Fe.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(n.jsx)(Fe.a,{onClick:this.handleSubmit,color:"primary",children:"Save"})]})]})]})}}]),a}(s.Component),ea=Object(h.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:x}),ne.a.post("/user",e).then((function(){t(oe())})).catch((function(e){return console.log(e)}))}}})(Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{button:{float:"right"}})}))($t)),ta=a(319),aa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:!1,width:"lg",method:"",actionMethod:null},e.handleClose=function(){},e.openFollowingList=function(){e.props.followingCount&&0!==e.props.followingCount&&e.setState({open:!0,method:"Following",actionMethod:e.props.getFollowingList})},e.openFollowersList=function(){0!==e.props.followersCount&&e.setState({open:!0,method:"Followers",actionMethod:e.props.getFollowersList})},e.handleClose=function(){e.setState({method:"",open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.userHandle,o=e.followersCount,r=e.followingCount,i=e.screenCount;return console.log(this.props),Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Ct.a,{style:{marginLeft:-20,marginRight:-20,marginTop:10}}),Object(n.jsxs)(ge.a,{container:!0,style:{textAlign:"center"},children:[Object(n.jsxs)(ge.a,{item:!0,xs:4,children:[Object(n.jsx)("span",{children:i||0}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:t.subTitle,children:"screen"})]}),Object(n.jsx)(ge.a,{item:!0,xs:4,children:Object(n.jsxs)("div",{style:{cursor:"pointer"},onClick:this.openFollowersList,children:[Object(n.jsx)("span",{children:o||0}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:t.subTitle,children:"followers"})]})}),Object(n.jsxs)(ge.a,{item:!0,xs:4,className:t.itemStyle,onClick:this.openFollowingList,children:[Object(n.jsx)("span",{children:r||0}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:t.subTitle,children:"following"})]})]}),""!==this.state.method&&Object(n.jsx)(Ut,{method:this.state.method,open:this.state.open,showBt:!0,defaultText:"Followers"===this.state.method?"Follow":"UnFollow",actionMethod:this.state.actionMethod,userHandle:a,actionValue:a,handleClose:this.handleClose})]})}}]),a}(s.Component),na=Object(It.a)()(Object(h.b)(null,{getFollowersList:We,getFollowingList:Ye})(Oe()({subTitle:{color:"#8E8E8E",fontSize:14},itemStyle:{cursor:"pointer"}})(aa))),sa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleImageChange=function(t){var a=t.target.files[0],n=new FormData;n.append("image",a,a.name),e.props.uploadImage(n)},e.handleEditPicture=function(){document.getElementById("imageId").click()},e.handleLogout=function(){e.props.logoutUser()},e}return Object(l.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.classes,a=e.data.loading,r=e.user.authenticated,i=this.props.data.user.user,c=i.handle,l=i.username,d=i.createdAt,p=i.imageUrl,h=i.bio,u=i.website,j=i.location,b=i.followers,m=i.following,g=i.total_screens;return console.log("Profile",this.props.data.user,a),a?Object(n.jsx)(Zt,{}):r?Object(n.jsx)(wt.a,{className:t.paper,variant:this.props.type,children:Object(n.jsxs)("div",{className:t.profile,children:[Object(n.jsxs)("div",{className:"image-wrapper",children:[Object(n.jsx)("img",{src:p,alt:{handle:c}+"-image",className:"profile-image"}),Object(n.jsx)("input",{type:"file",id:"imageId",onChange:this.handleImageChange,hidden:"hidden"}),Object(n.jsx)(Te,{tip:"Edit profile picture",onClick:this.handleEditPicture,btnClassName:"button",children:Object(n.jsx)(_t.a,{color:"primary"})})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"profile-details",children:[Object(n.jsx)(Ie.a,{variant:"h5",children:l}),Object(n.jsxs)(Qt.a,{component:le.b,to:"/user/".concat(c),color:"primary",variant:"subtitle2",children:["@",c]}),h&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("hr",{})," ",Object(n.jsx)(Ie.a,{variant:"body2",children:h})]}),j&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("hr",{}),Object(n.jsx)(Gt.a,{color:"primary",className:t.svgIcon}),Object(n.jsx)("span",{className:t.spanArea,children:j})]}),Object(n.jsx)("br",{}),u&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(qt.a,{color:"primary",className:t.svgIcon}),Object(n.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:t.spanArea,children:u}),Object(n.jsx)("br",{})]}),Object(n.jsx)(Jt.a,{color:"primary",className:t.svgIcon}),Object(n.jsxs)("span",{className:t.spanArea,children:["Joined ",ye()(d).format("MMM YYYY")," "]}),Object(n.jsx)(na,{userHandle:c,screenCount:g,followersCount:b,followingCount:m})]}),Object(n.jsx)(Te,{tip:"Logout",btId:"logoutBt",onClick:this.handleLogout,btnClassName:t.hiddenBt,children:Object(n.jsx)(ta.a,{color:"primary"})}),Object(n.jsx)(ea,{})]})}):Object(n.jsx)(wt.a,{className:t.paper,children:Object(n.jsxs)(Ie.a,{variant:"body2",align:"center",children:["No profile found, please login again",Object(n.jsxs)("div",{className:t.buttons,children:[Object(n.jsx)(Fe.a,{variant:"contained",color:"primary",component:le.b,to:"/login",children:"Login"}),Object(n.jsx)(Fe.a,{variant:"contained",color:"secondary",component:le.b,to:"/signup",children:"Signup"})]})]})})}}]),a}(s.Component),oa={logoutUser:se,uploadImage:function(e){return function(t){t({type:x}),console.log("image",e),ne.a.post("/user/image",e).then((function(){t(oe())})).catch((function(e){return console.log(e)}))}}},ra=Object(h.b)((function(e){return{data:e.data,user:e.user}}),oa)(Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{svgIcon:{float:"left",marginTop:6},spanArea:{width:"79%",height:18,marginStart:"10px",marginTop:6,display:"inline-block",textAlign:"left",marginBottom:10}})}))(sa)),ia=Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{card:{display:"flex",marginBottom:20},cardContent:{width:"100%",flexDirction:"col",padding:25},cover:{minWidth:200,objectFit:"cover"},handle:{width:60,height:18,marginBottom:10,backgroundColor:e.palette.primary.main},date:{height:14,width:100,backgroundColor:"rgba(0,0,0,0.3)",marginBottom:10},fullLine:{height:15,width:"90%",marginBottom:10,backgroundColor:"rgba(0,0,0,0.6)"},halfLine:{height:15,width:"50%",backgroundColor:"rgba(0,0,0,0.6)",marginBottom:10}})}))((function(e){var t=e.classes,a=Array.from({length:5}).map((function(e,a){return Object(n.jsxs)(Ce.a,{className:t.card,children:[Object(n.jsx)(ke.a,{className:t.cover,image:Yt}),Object(n.jsxs)(Se.a,{className:t.cardContent,children:[Object(n.jsx)("div",{className:t.handle}),Object(n.jsx)("div",{className:t.date}),Object(n.jsx)("div",{className:t.fullLine}),Object(n.jsx)("div",{className:t.fullLine}),Object(n.jsx)("div",{className:t.halfLine})]})]},a)}));return Object(n.jsx)(s.Fragment,{children:a})})),ca=a(73),la=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(){var t=e.props.news.url;"self"===Object(ca.a)(e)?window.location.href="/".concat(t):window.open(t,"_blank")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.news,o=a.title,r=a.imageUrl,i="self"!==a.type?Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(ge.a,{item:!0,xs:3,sm:3,children:Object(n.jsx)("img",{className:t.image,src:r,alt:o})})}):null;return Object(n.jsxs)(ge.a,{onClick:this.handleClick,alignItems:"center",className:t.link,container:!0,children:["xs"===this.props.width&&i,Object(n.jsx)(ge.a,{item:!0,xs:9,sm:8,className:t.item,children:Object(n.jsx)(Ie.a,{style:{paddingLeft:"xs"===this.props.width?13:5,paddingRight:5},variant:"body2",children:o})}),"xs"!==this.props.width&&i]})}}]),a}(s.Component),da=Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{image:{width:100,borderRadius:"10%"},item:{marginTop:10,marginBottom:10},horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,width:"183%",marginTop:-1,borderTop:"0px solid #eff1f3"}})}))(la),pa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getNews("all")}},{key:"render",value:function(){var e=this,t=this.props.data.news,a=this.props.classes,o=t?t.map((function(t,o){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(da,{width:e.props.width,news:t},o)," ",Object(n.jsx)("hr",{className:a.horizontalDivider})]})})):null;return Object(n.jsx)(s.Fragment,{children:t&&Object(n.jsx)(Ce.a,{children:Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Ie.a,{variant:"h6",className:a.title,children:"What\u2019s happening"}),Object(n.jsx)("hr",{className:a.horizontalDivider}),o]})})})}}]),a}(s.Component),ha=Object(h.b)((function(e){return{data:e.data}}),{getNews:function(e){return function(t){ne.a.get("/news/".concat(e)).then((function(e){t({type:G,payload:e.data})})).catch((function(e){console.log(e)}))}}})(Oe()({horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:-1,borderTop:"0px solid #eff1f3"},title:{fontWeight:"bold",marginBottom:10}})(pa)),ua=a(320),ja=a(321),ba=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getFollowSuggestions()}},{key:"render",value:function(){var e=this.props.data.suggestions,t=this.props,a=t.classes,o=t.width,r=e?e.map((function(e,t){return Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(Tt,{user:e,showBt:!0},t)})})):null;return Object(n.jsx)("div",{id:this.props.id,children:e&&!this.props.hide&&Object(n.jsx)(Ce.a,{className:a.root,children:Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Ie.a,{variant:"h6",className:a.title,children:"Who to follow"}),Object(n.jsx)("hr",{className:a.horizontalDivider}),"xs"===o?Object(n.jsx)("div",{className:a.scroll,children:Object(n.jsx)(ua.a,{spacing:5,style:{marginBottom:17},className:a.gridList,cols:2,children:e&&!this.props.hide&&e.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(ja.a,{style:{width:130},children:Object(n.jsx)(wt.a,{variant:"outlined",children:Object(n.jsx)(Tt,{vertical:!0,user:e,showBt:!0})})})},t)}))})}):r]})})})}}]),a}(s.Component),ma=Object(h.b)((function(e){return{data:e.data}}),{getFollowSuggestions:function(){return function(e){ne.a.get("/user/suggestions").then((function(t){e({type:D,payload:t.data})})).catch((function(e){console.log(e)}))}}})(Oe()((function(e){return{horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:-1,borderTop:"0px solid #eff1f3"},title:{fontWeight:"bold",marginBottom:10},gridList:{flexWrap:"nowrap",overflowY:"visible",transform:"translateZ(0)"},root:{flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},scroll:{marginLeft:-16,marginRight:-16,paddingLeft:9,paddingRight:10,overflow:"auto",whiteSpace:"nowrap"}}}))(ba)),ga=a.p+"static/media/social-media.560636e5.svg";function fa(e){return Object(n.jsxs)(Ce.a,{children:[Object(n.jsx)(ke.a,{height:"200",width:"200",style:{objectFit:"contain"},component:"img",src:e.imageUrl,image:e.imageUrl}),Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Ie.a,{variant:"h5",children:e.title}),Object(n.jsx)(Ie.a,{variant:"subtitle2",style:{marginTop:20},children:e.desc})]})]})}function Oa(){return console.log("no screen activated"),Object(n.jsx)(fa,{title:"No screen found",desc:"Does not have any screens for you.",imageUrl:ga})}var xa=a.p+"static/media/follower.87156862.svg";function ya(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(fa,{title:"No followers",desc:"You are not following any one. Follow people to see their screens here",imageUrl:xa}),Object(n.jsx)(ma,{noId:!0})]})}var va=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).setNoFollow=function(){var e=document.getElementById("follow-suggestions");return e&&(e.style="display:none"),Object(n.jsx)(ya,{})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("handle")?this.props.getScreens():window.location.href="/login"}},{key:"render",value:function(){var e=this.props.data,t=e.screens,a=e.loading,s=this.props,o=s.classes,r=s.width,i=a?Object(n.jsx)(ia,{}):t.length>0?t.map((function(e){return Object(n.jsx)(Wt,{screen:e},e.screenId)})):Object(n.jsx)(Oa,{});return console.log(this.props),Object(n.jsx)("div",{children:Object(n.jsxs)(ge.a,{container:!0,spacing:"xs"===r?0:2,justify:"xs"===r?"center":null,className:o.root,children:[Object(n.jsx)(ge.a,{item:!0,sm:3,lg:3,xs:12,children:Object(n.jsx)(ma,{width:this.props.width,id:"follow-suggestions"})}),Object(n.jsx)(ge.a,{item:!0,sm:5,lg:5,xs:12,children:t&&t.length>0||a?i:!a&&this.setNoFollow()}),Object(n.jsx)(ge.a,{item:!0,lg:3,sm:4,xs:12,children:Object(n.jsx)(ha,{width:r})})]})})}}]),a}(s.Component),wa=Object(It.a)()(Object(h.b)((function(e){return{data:e.data}}),{getScreens:function(){return function(e){e({type:I}),ne.a.get("/screens").then((function(t){e({type:T,payload:t.data})})).catch((function(t){e({type:T,payload:[]})}))}}})(Object(qe.a)({root:{width:"100%"}})(va))),Ca="data:image/png;base64,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",Sa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(Ze.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,s=this.state.errors;return Object(n.jsxs)(ge.a,{container:!0,className:t.form,children:[Object(n.jsx)(ge.a,{item:!0,sm:!0}),Object(n.jsxs)(ge.a,{item:!0,sm:!0,children:[Object(n.jsx)("img",{src:Ca,alt:"monkey",className:t.image}),Object(n.jsx)(Ie.a,{variant:"h2",className:t.pageTitle,children:"Login"}),Object(n.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(n.jsx)(Ke.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:s.email,error:!!s.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:s.password,error:!!s.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),s.gerneral&&Object(n.jsx)(Ie.a,{variant:"body2",className:t.customError,children:s.gerneral}),Object(n.jsxs)(Fe.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:t.button,disabled:a,children:["Login",a&&Object(n.jsx)(Qe.a,{size:30,className:t.progress})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["dont have an account ? sign up ",Object(n.jsx)(le.b,{to:"/signup",children:"here"})]})]})]}),Object(n.jsx)(ge.a,{item:!0,sm:!0})]})}}]),a}(s.Component),ka={loginUser:function(e,t){return function(a){a({type:S}),ne.a.post("/login",e).then((function(e){ce(e.data.token),localStorage.setItem("handle","waiting"),a(oe()),a({type:k}),t.push("/")})).catch((function(e){var t;t=e.response.data.errors?e.response.data.errors:e.response.data,console.log(t),a({type:C,payload:t})}))}}},Ia=Object(h.b)((function(e){return{user:e.user,UI:e.UI}}),ka)(Oe()((function(e){return Object(m.a)({},e.spreadIt)}))(Sa)),Na=a(6),Ea=a.n(Na),Ta=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle,username:e.state.username};console.log("sending data",a),e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(Ze.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,s=this.state.errors;return Object(n.jsxs)(ge.a,{container:!0,className:t.form,children:[Object(n.jsx)(ge.a,{item:!0,sm:!0}),Object(n.jsxs)(ge.a,{item:!0,sm:!0,children:[Object(n.jsx)("img",{src:Ca,alt:"letssocially",className:t.image}),Object(n.jsx)(Ie.a,{variant:"h2",className:t.pageTitle,children:"Signup"}),Object(n.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(n.jsx)(Ke.a,{id:"email",name:"email",type:"email",label:"Email",helperText:s.email,error:!!s.email,className:t.textField,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{id:"username",name:"username",type:"username",label:"Full name",helperText:s.username,error:!!s.username,className:t.textField,value:this.state.username,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{id:"password",name:"password",type:"password",label:"Password",helperText:s.password,error:!!s.password,className:t.textField,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",helperText:s.confirmPassword,error:!!s.confirmPassword,className:t.textField,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),Object(n.jsx)(Ke.a,{id:"handle",name:"handle",type:"text",label:"Handle",helperText:s.handle,error:!!s.handle,className:t.textField,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),s.gerneral&&Object(n.jsx)(Ie.a,{variant:"body2",className:t.customError,children:s.gerneral}),Object(n.jsxs)(Fe.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:t.button,disabled:a,children:["Signup",a&&Object(n.jsx)(Qe.a,{className:t.progress,size:30})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("small",{children:["Already have an account? Login ",Object(n.jsx)(le.b,{to:"/login",children:"here"})]})]})]}),Object(n.jsx)(ge.a,{item:!0,sm:!0})]})}}]),a}(s.Component);Ta.propType={classes:Ea.a.object.isRequired,user:Ea.a.object.isRequired,UI:Ea.a.object.isRequired,signupUser:Ea.a.func.isRequired};var Fa=Object(h.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:S}),ne.a.post("/signup",e).then((function(e){ce(e.data.token),localStorage.setItem("handle","waiting"),a(oe()),a({type:k}),t.push("/")})).catch((function(e){var t;t=e.response.data.errors?e.response.data.errors:e.response.data,a({type:C,payload:t})}))}}})(Oe()((function(e){return Object(m.a)({},e.spreadIt)}))(Ta)),Aa=a(264),Ua=a(352),Ra=a(347),Ba=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:e.props.open,count:0},e.onClose=function(){te.dispatch({type:X}),console.log("on close called")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({open:!0,count:1}),console.log("comp did mout called")}},{key:"componentDidUpdate",value:function(){console.log("com did update")}},{key:"render",value:function(){return console.log("Opening alet prop",this.state.open,"open",this.props.open),Object(n.jsx)(Ua.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,onClose:this.onClose,autoHideDuration:2e3,children:Object(n.jsx)(Ra.a,{elevation:6,severity:this.props.type,variant:"filled",children:this.props.message})})}}]),a}(s.Component),Pa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isFollowing:e.props.profile&&e.props.profile.is_following},e.handleClick=function(){null==localStorage.getItem("handle")?window.location.href="/login":(e.state.isFollowing?e.props.unFollowUser(e.props.profile.handle):e.props.followUser(e.props.profile.handle),console.log("is following from click",e.state.isFollowing),e.setState({isFollowing:!e.state.isFollowing}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.error,r=e.message;console.log(this.props);var i=this.props.data.user,c=i.handle,l=i.username,d=i.createdAt,p=i.imageUrl,h=i.bio,u=i.website,j=i.location,b=i.followers,m=i.following,g=i.total_screens;console.log("width",this.props),console.log("message",r,a);var f=localStorage.getItem("handle")!==c?Object(n.jsx)(Fe.a,{variant:"outlined",fullWidth:!0,color:"primary",onClick:this.handleClick,children:this.state.isFollowing?"Following":"Follow"}):null;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(wt.a,{className:t.paper,variant:this.props.type,children:Object(n.jsxs)("div",{className:t.profile,children:[Object(n.jsx)("div",{className:"image-wrapper",children:Object(n.jsx)("img",{src:p,alt:c,className:"profile-image"})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"profile-details",children:[Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,xs:12,children:Object(n.jsx)(Ie.a,{variant:"h5",style:{textAlign:"start"},children:l})}),Object(n.jsx)(ge.a,{item:!0,xs:4})]}),Object(n.jsxs)(Qt.a,{component:le.b,to:"/user/".concat(c),color:"primary",variant:"subtitle2",children:["@",c]}),h&&Object(n.jsxs)(o.a.Fragment,{children:[" ",Object(n.jsx)("hr",{}),Object(n.jsx)(Ie.a,{variant:"body2",children:h})]}),j&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("hr",{}),Object(n.jsx)(Gt.a,{color:"primary",className:t.svgIcon}),Object(n.jsx)("span",{className:t.spanArea,children:j})]}),u&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)(qt.a,{color:"primary",className:t.svgIcon}),Object(n.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:t.spanArea,children:u}),Object(n.jsx)("br",{})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(Jt.a,{color:"primary",className:t.svgIcon}),Object(n.jsxs)("span",{className:t.spanArea,children:["Joined ",ye()(d).format("MMM YYYY")," "]}),Object(n.jsx)("hr",{}),f,Object(n.jsx)(na,{userHandle:c,screenCount:g,followersCount:b,followingCount:m})]})]})}),a&&Object(n.jsx)(Ba,{type:"error",open:!0,message:a}),r&&Object(n.jsx)(Ba,{type:"success",open:!0,message:r})]})}}]),a}(s.Component),Da=Object(h.b)((function(e){return{data:e.data.user,error:e.data.error,message:e.data.message}}),{followUser:re,unFollowUser:ie})(Object(Aa.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{svgIcon:{float:"left",marginTop:6},spanArea:{width:"79%",height:18,marginStart:"10px",marginTop:10,display:"inline-block",textAlign:"left",marginBottom:10}})}))(Pa)),La=a(4),Ma=a(157),za=a(33),Wa=a(266),Ya=a(267),Ha=a(323),Ga=a(324),Va=a(170),qa=a.n(Va),Xa=a(325),Ja=a(326),Za=a(327),Qa=a(328),Ka=a(329),_a=240,$a=Object(Ma.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:_a,width:"calc(100% - ".concat(_a,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:_a,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:_a,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Ze.a)({zIndex:"auto",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var en=Object(It.a)()((function(e){var t,a,s=$a(),r=(Object(za.a)(),o.a.useState(!1)),i=Object(lt.a)(r,2),c=i[0],l=i[1],d=o.a.useState(0),p=Object(lt.a)(d,2),h=p[0],u=p[1];return Object(n.jsx)("div",{className:s.root,children:Object(n.jsxs)(ct.a,{variant:"permanent",onMouseEnter:function(){"xs"!==e.width&&l(!0)},onMouseLeave:function(){l(!1)},className:Object(La.a)(s.drawer,(t={},Object(Ze.a)(t,s.drawerOpen,c),Object(Ze.a)(t,s.drawerClose,!c),t)),classes:{paper:Object(La.a)((a={},Object(Ze.a)(a,s.drawerOpen,c),Object(Ze.a)(a,s.drawerClose,!c),a))},children:[Object(n.jsx)(Ct.a,{className:s.toolbar}),Object(n.jsxs)(Wa.a,{children:[Object(n.jsxs)(Ya.a,{button:!0,index:0,onClick:function(){0!==h&&(u(0),e.handleTabChange(0))},selected:0===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(qa.a,{style:0===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Screens"})]}),Object(n.jsxs)(Ya.a,{button:!0,index:1,onClick:function(){1!==h&&(u(1),e.handleTabChange(1))},selected:1===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Nt.a,{style:1===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Polls"})]}),Object(n.jsxs)(Ya.a,{button:!0,index:2,onClick:function(){2!==h&&(u(2),e.handleTabChange(2))},selected:2===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Xa.a,{style:2===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Liked Screens"})]}),Object(n.jsxs)(Ya.a,{button:!0,index:3,onClick:function(){3!==h&&(u(3),e.handleTabChange(3))},selected:3===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Ja.a,{style:3===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Commented Screens"})]})]}),Object(n.jsx)(Ct.a,{}),Object(n.jsxs)(Wa.a,{children:[Object(n.jsxs)(Ya.a,{button:!0,index:4,onClick:function(){4!==h&&(u(4),e.handleTabChange(4))},selected:4===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Za.a,{style:4===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Images"})]}),Object(n.jsxs)(Ya.a,{button:!0,index:5,onClick:function(){5!==h&&(u(5),e.handleTabChange(5))},selected:5===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Qa.a,{style:5===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Video"})]}),Object(n.jsxs)(Ya.a,{button:!0,index:6,onClick:function(){6!==h&&(u(6),e.handleTabChange(6))},selected:6===h,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Ka.a,{style:6===h?{color:"#369fff"}:null})}),Object(n.jsx)(Ga.a,{primary:"Audio"})]})]})]})})})),tn=a.p+"static/media/no-image.7eac3493.svg",an=Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{card:{display:"flex",margin:10},cardContent:{width:"100%",flexDirction:"col",padding:25},cover:{minWidth:200,objectFit:"cover"},handle:{width:60,height:18,marginBottom:10,backgroundColor:e.palette.primary.main},date:{height:14,width:100,backgroundColor:"rgba(0,0,0,0.3)",marginBottom:10},fullLine:{height:15,width:"90%",marginBottom:10,backgroundColor:"rgba(0,0,0,0.6)"},halfLine:{height:15,width:"50%",backgroundColor:"rgba(0,0,0,0.6)",marginBottom:10},box:{width:200,height:200,backgroundColor:"rgba(0,0,0,0.3)"}})}))((function(e){var t=e.classes,a=Array.from({length:5}).map((function(e,a){return Object(n.jsx)(ge.a,{item:!0,children:Object(n.jsx)(Ce.a,{className:t.card,children:Object(n.jsx)(Se.a,{className:t.box})},a)})}));return Object(n.jsx)(ge.a,{container:!0,children:a})})),nn=a.p+"static/media/no-video.02fa53c4.svg",sn=a.p+"static/media/no-audio.c42865f2.svg",on=a(330),rn=function(e){var t=o.a.useState(!1),a=Object(lt.a)(t,2),r=a[0],i=a[1],c=o.a.useState(null),l=Object(lt.a)(c,2),d=l[0],p=l[1],h=function(){i(!1),p(null)},u=e.media&&0===e.media.length?Object(n.jsx)(fa,{title:"No ".concat(4===e.index?"image":5===e.index?"video":"audio"," found."),imageUrl:4===e.index?tn:5===e.index?nn:sn}):e.media&&e.media.map((function(t,a){return Object(n.jsx)(s.Fragment,{children:6===e.index?Object(n.jsx)(ge.a,{sm:12,xs:12,item:!0,children:Object(n.jsx)(Ce.a,{variant:"outlined",children:Object(n.jsx)(Se.a,{children:Object(n.jsx)(gt,{uri:t.imageUrl,type:"Audio",name:Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)(Ie.a,{variant:"body1",children:["From ",t.uploadFrom]}),Object(n.jsxs)(Ie.a,{variant:"caption",children:["Uploaded on"," ",ye()(t.uploadDate).format("DD MMM YYYY")]})]})})})})},a):Object(n.jsx)("div",{className:"img-wrap",layout:!0,onClick:function(){return function(e){console.log("Opening dialog"),p(e),i(!0)}(t)},whileHover:{opacity:1},children:Object(n.jsx)("img",{src:t.imageUrl.includes(".mp4")?t.imageUrl.replace(t.imageUrl.substring(t.imageUrl.indexOf("/o/")+3,t.imageUrl.indexOf("?")),t.imageUrl.substring(t.imageUrl.indexOf("/o/")+3,t.imageUrl.indexOf("?")-4)+"_preview.png").replace("video","preview"):t.imageUrl,alt:"upload img",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},a)})})),j=o.a.useState(!1),b=Object(lt.a)(j,2),m=b[0],g=b[1],f=o.a.useState(!0),O=Object(lt.a)(f,2),x=O[0],y=O[1],v=function(){var e=document.getElementById("video");m?(e.pause(),y(!0)):(y(!1),e.play()),g(!m)};return console.log(e),Object(n.jsx)(s.Fragment,{children:e.media&&0!==e.media.length?3===e.index?Object(n.jsx)(ge.a,{container:!0,sm:12,children:u}):Object(n.jsxs)("div",{className:6===e.index?null:"img-grid",children:[u,r&&Object(n.jsx)(Ae.a,{fullScreen:"xs"===e.width,open:r,fullWidth:!0,onClose:h,"aria-labelledby":"responsive-dialog-title",children:Object(n.jsxs)(et.a,{children:[Object(n.jsx)(Te,{inlineCss:{position:"absolute",left:"90%"},onClick:h,tip:"Close",children:Object(n.jsx)(at.a,{htmlColor:"black",style:{backgroundColor:"#4f4f4f99",padding:2,borderRadius:50}})}),Object(n.jsx)(Tt,{user:e.user}),Object(n.jsx)("div",{className:e.imageContent,children:d.imageUrl.includes(".mp4")?Object(n.jsxs)(s.Fragment,{children:[x&&Object(n.jsx)("div",{className:e.playIconClassName,children:Object(n.jsx)(on.a,{onClick:v,fontSize:"large",htmlColor:"#369fff"})}),Object(n.jsx)("video",{className:e.className,id:"video",width:"100%",height:"100%",style:"xs"!==e.width?{height:"-webkit-fill-available",padding:25}:null,onClick:v,onEnded:function(){y(!0),g(!m)},poster:d.imageUrl.replace(d.imageUrl.substring(d.imageUrl.indexOf("/o/")+3,d.imageUrl.indexOf("?")),d.imageUrl.substring(d.imageUrl.indexOf("/o/")+3,d.imageUrl.indexOf("?")-4)+"_preview.png").replace("video","preview"),children:Object(n.jsx)("source",{src:d.imageUrl})})]}):Object(n.jsx)("img",{src:d.imageUrl,alt:"",width:"100%",className:e.className})}),Object(n.jsxs)(Ie.a,{variant:"body1",children:["From ",d.uploadFrom]}),Object(n.jsxs)(Ie.a,{variant:"caption",children:["Uploaded on ",ye()(d.uploadDate).format("DD MMM YYYY")]})]})})]}):Object(n.jsx)("div",{children:u})})},cn=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={profile:null,screenIdParam:null,owner:!1,index:0,currHandle:""},e.action=function(){console.log("user not found")},e.handleTabChange=function(t){switch(e.setState({index:t}),t){case 0:e.props.getUserData(e.props.match.params.handle);break;case 1:e.props.getUserActivity(e.props.match.params.handle,"polls");break;case 2:e.props.getUserActivity(e.props.match.params.handle,"likes");break;case 3:e.props.getUserActivity(e.props.match.params.handle,"comments");break;case 4:e.props.getUserMedia(e.props.match.params.handle,"image");break;case 5:e.props.getUserMedia(e.props.match.params.handle,"video");break;case 6:e.props.getUserMedia(e.props.match.params.handle,"audio");break;default:return}console.log("tab change ",t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.handle,t=this.props.match.params.screenId;e===localStorage.getItem("handle")&&this.setState({owner:!0}),t&&this.setState({screenIdParam:t}),this.props.getUserData(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.handle;this.state.currHandle!==e&&(this.props.getUserData(e),this.setState({currHandle:e,owner:e===localStorage.handle})),console.log("State",this.state)}},{key:"render",value:function(){var e=this.props.data,t=e.media,a=e.loading,o=this.props.data.user,r=o.screens,i=o.user,c=this.props,l=c.error,d=(c.message,c.classes),p=c.width;console.log("media",t,l,this.props,"screens",r),console.log("loading",a);var h=this.state.screenIdParam,u=a?this.state.index>=4&&this.state.index<=6?Object(n.jsx)(an,{}):Object(n.jsx)(ia,{}):this.state.index>=4&&this.state.index<=6?Object(n.jsx)(rn,{playIconClassName:d.playIcon,imageContent:d.imageContent,media:t,user:this.props.data.user.user&&{userHandle:this.props.data.user.user.handle,userImage:this.props.data.user.user.imageUrl,username:this.props.data.user.user.username},width:p,index:this.state.index}):null===r?Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Ie.a,{variant:"h6",children:"Sorry, this page isn't available."}),Object(n.jsxs)(Ie.a,{variant:"subtitle2",style:{marginTop:20,color:"#262626"},children:["The link you followed may be broken, or the page may have been removed. ",Object(n.jsx)("a",{href:"/",children:"Go back to LetsSocially"})]})]}):0===r.length||r.length>0&&r[0].userHandle!==this.state.currHandle?Object(n.jsx)(Oa,{}):h?r.map((function(e){return e.screenId!==h?Object(n.jsx)(Wt,{screen:e},e.screenId):Object(n.jsx)(Wt,{screen:e,openDialog:!0},e.screenId)})):r.map((function(e){return Object(n.jsx)(Wt,{screen:e},e.key?e.key:e.screenId)})),j=null===i||i.handle!==this.state.currHandle?Object(n.jsx)(s.Fragment,{children:(null===i||i.handle!==this.state.currHandle)&&Object(n.jsx)(Zt,{})}):Object(n.jsx)(s.Fragment,{children:"hide"!==i&&this.state.owner?Object(n.jsx)(ra,{type:"xs"===p?"outlined":"elevation"}):Object(n.jsx)(Da,{type:"xs"===p?"outlined":"elevation",profile:i})}),b=Object(n.jsx)(ge.a,{item:!0,xs:10,children:Object(n.jsxs)(wt.a,{variant:"outlined",className:d.smallScreen,children:[j,Object(n.jsx)(Ct.a,{}),u]})});return Object(n.jsxs)(ge.a,{container:!0,spacing:10,justify:"flex-end",className:d.root,children:[Object(n.jsx)(ge.a,{item:!0,sm:1,xs:1,children:Object(n.jsx)(en,{xs:1,sm:1,handleTabChange:this.handleTabChange})}),"xs"===p&&b,"xs"!==p&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(ge.a,{item:!0,sm:6,xs:10,children:u}),Object(n.jsx)(ge.a,{item:!0,sm:4,xs:8,children:j})]})]})}}]),a}(s.Component),ln=Object(It.a)()(Object(h.b)((function(e){return{data:e.data,error:e.user.error,message:e.user.message}}),{getUserData:function(e){return function(t){t({type:I}),ne.a.get("/user/".concat(e,"/").concat(localStorage.getItem("handle"))).then((function(e){t({type:J,payload:e.data}),console.log("user Screen recieved",e.data.screens)})).catch((function(e){t({type:J})}))}},getUserActivity:function(e,t){return function(a){a({type:I}),ne.a.get("/user/activity/".concat(e,"/").concat(t)).then((function(e){console.log(e),a({type:J,payload:{screens:e.data}})})).catch((function(e){console.log(e),a({type:J,payload:{}})}))}},getUserMedia:function(e,t){return function(a){a({type:I}),ne.a.get("/user/media/".concat(e,"/").concat(t)).then((function(e){console.log(e),a({type:L,payload:e.data})})).catch((function(e){console.log(e),a({type:L,payload:null})}))}}})(Oe()({root:{width:"100%"},smallScreen:{width:"133%",marginTop:-106},playIcon:{left:"50%",margin:"-57px 0 0 -31px",position:"absolute",top:"50%",cursor:"pointer",zIndex:1},imageContent:{alignItems:"center",justifyContent:"center",display:"flex"}})(cn))),dn=a(331),pn=a(24),hn=a(351);var un=Object(h.b)((function(e){return{data:e.data}}),{getSearchResult:function(e,t){return function(a){a({type:S}),(e||""!==e)&&(Array.isArray(t)&&(t={filter:t}),t.userHandle=localStorage.getItem("handle"),console.log("searching ","->"+e,t),ne.a.post("/search/".concat(e),t).then((function(e){a({type:W,payload:e.data}),a({type:E})})).catch((function(e){console.log(e),a({type:E})})))}}})(Oe()((function(e){return{search:Object(Ze.a)({position:"relative",maxWidth:300,borderRadius:e.shape.borderRadius,backgroundColor:Object(pn.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(pn.d)(e.palette.common.white,.25)},marginLeft:"auto",width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchContainer:{position:"absolute",width:"100%"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"-webkit-fill-available"},inputInput:{width:"-webkit-fill-available",padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width")},sectionDesktop:Object(Ze.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Ze.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))((function(e){var t=Object(de.g)(),a=o.a.useState(0),s=Object(lt.a)(a,2),r=s[0],i=s[1],c=o.a.useState(e.defaultValue?e.defaultValue:""),l=Object(lt.a)(c,2),d=l[0],p=l[1],h=e.filter?e.filter:["users","users-username"];o.a.useEffect((function(){e.defaultValue&&e.getSearchResult(e.defaultValue,h),window.location.href.includes("/search/")&&"nav"!==e.from&&te.dispatch({type:M})}),[]);var u=e.classes,j=e.searchIconColor,b=e.customStyle;return window.location.pathname.includes("/search")&&"nav"!==e.from&&te.dispatch({type:M}),Object(n.jsxs)("div",{className:u.search,style:b,children:[Object(n.jsxs)("form",{noValidate:!0,onSubmit:function(t){t.preventDefault(),e.getSearchResult(document.getElementById("search").value,h)},children:[Object(n.jsx)("div",{className:u.searchIcon,children:Object(n.jsx)(dn.a,{color:j})}),Object(n.jsx)(hn.a,{placeholder:"Search\u2026",type:"search",name:"search",autoComplete:"off",id:"search",value:d,spellCheck:"false",onChange:function(t){window.location.pathname.includes("/search")&&"nav"===e.from||(clearTimeout(r),"nav"===e.from&&te.dispatch({type:W,payload:null}),p(t.target.value),i(setTimeout((function(){e.getSearchResult(t.target.value,h)}),1e3)))},onFocus:function(){te.dispatch({type:M})},onBlur:function(){"nav"===e.from&&setTimeout((function(){te.dispatch({type:z}),te.dispatch({type:W,payload:null}),p("")}),210)},classes:{root:u.inputRoot,input:u.inputInput},inputProps:{"aria-label":"search"}})]}),e.data&&d&&""!==d.trim()&&"nav"===e.from&&Object(n.jsx)(wt.a,{className:u.searchContainer,children:Object(n.jsx)(Wa.a,{component:"nav","aria-label":"main mailbox folders",children:e.data.searchResult?0===e.data.searchResult.length?Object(n.jsx)("p",{style:{paddingLeft:15},children:"No result found"}):Object(n.jsxs)(o.a.Fragment,{children:[e.data.searchResult.map((function(e,a){return Object(n.jsxs)(Ya.a,{button:!0,onClick:function(){return a=e.userHandle,void t.push("/user/".concat(a));var a},children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)("img",{style:{width:40},src:e.userImage,alt:e.username})}),Object(n.jsx)(Ga.a,{primary:e.username,secondary:"@".concat(e.userHandle)})]},a)}))," ",Object(n.jsx)(Ya.a,{button:!0,component:le.b,to:"/search/?type=handle&key=".concat(d),children:Object(n.jsx)(Ga.a,{primary:"See more"})})]}):Object(n.jsx)(Qe.a,{color:"primary",size:30,style:{marginLeft:"40%",color:"#369fff"}})})})]})}))),jn=a(342),bn=a(343),mn=a(175),gn=a.n(mn),fn=a(322),On=a(292),xn=a(291),yn=a(332),vn=a(304),wn=a(171),Cn=a.n(wn),Sn=Object(Ma.a)((function(e){return{paper:{marginRight:e.spacing(2)}}}));function kn(e){Sn();var t=Object(de.g)(),a=o.a.useState(!1),s=Object(lt.a)(a,2),r=s[0],i=s[1],c=o.a.useState(void 0),l=Object(lt.a)(c,2),d=l[0],p=l[1],h=o.a.useRef(null),u=o.a.useState(!1),j=Object(lt.a)(u,2),b=j[0],g=j[1],f=function(e){h.current&&h.current.contains(e.target)||i(!1)};function O(e){"Tab"===e.key&&(e.preventDefault(),i(!1))}var x=o.a.useRef(r);o.a.useEffect((function(){!0===x.current&&!1===r&&h.current.focus(),x.current=r}),[r]);var y=function(){(i(!1),d.includes("Edit"))?document.getElementById("editDetails").click():t.push("/user/".concat(localStorage.getItem("handle")))},v=function(){i(!1),localStorage.removeItem("FBIdToken"),localStorage.removeItem("handle"),delete ne.a.defaults.headers.common.Authorization,window.location.href="/login"};return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(Ne.a,{title:"Settings",placement:"bottom",children:Object(n.jsx)(Ee.a,{ref:h,"aria-controls":r?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){console.log(window.location.href),localStorage.getItem("handle")?null!==document.getElementById("logoutBt")?p("Edit details"):window.location.href.endsWith("/"+localStorage.getItem("handle"))?console.log("No case ",document.getElementById("logoutBt")):p("My Account"):p(void 0),g(!0),i((function(e){return!e}))},tip:"Settings",children:Object(n.jsx)(Cn.a,{htmlColor:"#ffffff"})})}),Object(n.jsx)(xn.a,{open:r,anchorEl:h.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(n.jsx)(On.a,Object(m.a)(Object(m.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(n.jsx)(wt.a,{children:Object(n.jsx)(fn.a,{onClickAway:f,children:Object(n.jsxs)(vn.a,{autoFocusItem:r,id:"menu-list-grow",onKeyDown:O,children:[b&&d&&Object(n.jsx)(yn.a,{onClick:y,children:d}),Object(n.jsx)(yn.a,{onClick:v,children:"Logout"})]})})})}))}})]})}var In=a(177),Nn=a(111),En=a.n(Nn),Tn=a(172),Fn=a.n(Tn),An=a(173),Un=a.n(An),Rn=a(333),Bn=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={anchorEl:null},e.handleOpen=function(t){e.setState({anchorEl:t.target})},e.handleClose=function(){e.setState({anchorEl:null})},e.onMenuOpened=function(){var t=e.props.notifications.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));e.props.markNotificationsRead(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.notifications,o=this.state.anchorEl;ye.a.extend(we.a),e=a&&a.length>0&&a.filter((function(e){return!1===e.read})).length>0?Object(n.jsx)(Rn.a,{badgeContent:a.filter((function(e){return!1===e.read})).length,color:"secondary",children:Object(n.jsx)(En.a,{htmlColor:"#ffffff"})}):Object(n.jsx)(En.a,{htmlColor:"#ffffff"});var r=a&&a.length>0?a.map((function(e){var a="like"===e.type?"liked":"commented on",s=ye()(e.createdAt).fromNow(),o=e.read?"primary":"secondary",r="like"===e.type?Object(n.jsx)(Fn.a,{color:o,style:{marginRight:10}}):Object(n.jsx)(Un.a,{color:o,style:{marginRight:10}});return Object(n.jsxs)(yn.a,{onClick:t.handleClose,children:[r,Object(n.jsxs)(Ie.a,{component:le.b,color:"default",variant:"body1",to:"/user/".concat(e.recipient,"/screen/").concat(e.screenId),children:[e.sender," ",a," your screen ",s]})]},e.createdAt)})):Object(n.jsx)(yn.a,{onClick:this.handleClose,children:"You have no notifications yet"});return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Ne.a,{placement:"top",title:"Notifications",children:Object(n.jsx)(Ee.a,{"aria-owns":o?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpen,children:e})}),Object(n.jsx)(In.a,{anchorEl:o,open:Boolean(o),onClose:this.handleClose,onEntered:this.onMenuOpened,children:r})]})}}]),a}(s.Component),Pn=Object(h.b)((function(e){return{notifications:e.user.notifications}}),{markNotificationsRead:function(e){return function(t){ne.a.post("/notifications",e).then((function(e){t({type:y})})).catch((function(e){return console.log(e)}))}}})(Bn),Dn=a(132),Ln=a.n(Dn),Mn=a(174),zn=a(338),Wn=a(334),Yn=a(339),Hn=a(340),Gn=a(341),Vn=function(e){return Object(n.jsx)(s.Fragment,{children:e.file.type.includes("audio/mpeg")?Object(n.jsx)(ge.a,{item:!0,xs:12,className:"mediaBox",children:Object(n.jsx)(gt,{item:e,uri:e.file.uri,type:"preview"})}):Object(n.jsxs)(ge.a,{item:!0,xs:!0,className:"mediaBox",children:[Object(n.jsx)(ke.a,{image:e.file.uri,title:"item",style:{width:100,height:100},children:Object(n.jsx)("img",{src:mt,alt:"delete",onClick:e.onRemove,href:"#",index:"".concat(e.index).concat(e.file.finalName.includes("_preview")?"-preview":"")})}),Object(n.jsx)("p",{children:e.file.name})]})})},qn=function(e){var t=e.files&&e.files.map((function(t,a){return Object(n.jsx)(s.Fragment,{children:t.type.includes("mp4")?null:Object(n.jsx)(Vn,{"data-index":a,index:a,onRemove:e.removeMedia,file:t},a)})}));return Object(n.jsx)(s.Fragment,{children:e.files&&Object(n.jsx)(ge.a,{container:!0,children:t})})},Xn=a(335),Jn=a(336),Zn=a(337),Qn=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={options:[],days:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],expiry:[0,0,0],anchorEl:null,type:["Days","Hours","Minutes"],value:[8,24,60]},e.handleSubmit=function(e){e.preventDefault()},e.addOptions=function(){var t=e.state.options;t.push(""),e.setState({options:t})},e.handleMenuClose=function(){e.setState({anchorEl:null})},e.openMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.handleMenuItemClick=function(){setTimeout((function(){e.handleMenuClose()}),100)},e.handleEveryOneClick=function(){e.props.handlePollsType("Everyone can reply"),e.handleMenuItemClick()},e.handleFollowerClick=function(){e.props.handlePollsType("People you follow"),e.handleMenuItemClick()},e.handleDayExpiryChange=function(t){console.log("option",t.target.value),e.props.handleChangeInPollsExpiry(t.target.value,0)},e.handleHourExpiryChange=function(t){console.log("option",t.target.value),e.props.handleChangeInPollsExpiry(t.target.value,1)},e.handleMinuteExpiryChange=function(t){console.log("option",t.target.value),e.props.handleChangeInPollsExpiry(t.target.value,2)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e;(e=this.state.options).push.apply(e,Object(b.a)(this.props.polls))}},{key:"render",value:function(){var e=this;return console.log("Inside pools",this.props),Object(n.jsx)(o.a.Fragment,{children:0!==this.props.polls.length&&Object(n.jsx)(Ce.a,{variant:"outlined",children:Object(n.jsxs)(ge.a,{container:!0,justify:"center",children:[this.props.polls.map((function(t,a){return Object(n.jsx)(ge.a,{item:!0,children:Object(n.jsxs)(wt.a,{className:e.props.classes.root,children:[Object(n.jsx)(hn.a,{className:e.props.classes.input,onChange:e.props.handleChange,id:a,value:t,spellCheck:"false",autoComplete:"off",placeholder:"Choice "+(a+1),inputProps:{"aria-label":"Add option"}}),e.props.polls.length<4&&a===e.props.polls.length-1&&Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(Ct.a,{className:e.props.classes.divider,orientation:"vertical"}),Object(n.jsx)(Ee.a,{color:"primary",className:e.props.classes.iconButton,"aria-label":"add",onClick:e.props.pollonAdd,children:Object(n.jsx)(Wn.a,{})})]})]})},a)})),Object(n.jsxs)(ge.a,{item:!0,sm:12,xs:12,justify:"center",alignContent:"center",style:{textAlignLast:"center"},children:[Object(n.jsx)(Ct.a,{}),Object(n.jsx)("p",{style:{textAlignLast:"auto",marginLeft:35},children:"Poll Length"}),Object(n.jsx)(es,{variant:"filled",select:!0,className:this.props.classes.daysBox,label:this.state.type[0],onChange:this.handleDayExpiryChange,SelectProps:{native:!0},children:this.state.days.slice(0,this.state.value[0]).map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))}),Object(n.jsx)(es,{variant:"filled",select:!0,className:this.props.classes.daysBox,label:this.state.type[1],onChange:this.handleHourExpiryChange,SelectProps:{native:!0},children:this.state.days.slice(0,this.state.value[1]).map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))}),Object(n.jsx)(es,{variant:"filled",select:!0,className:this.props.classes.daysBox,label:this.state.type[2],onChange:this.handleMinuteExpiryChange,SelectProps:{native:!0},children:this.state.days.slice(0,this.state.value[2]).map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))})]}),Object(n.jsxs)(ge.a,{item:!0,sm:12,xs:12,children:[Object(n.jsx)(Ct.a,{}),Object(n.jsx)(Fe.a,{variant:"text",color:"primary",startIcon:this.props.pollsType.includes("Everyone")?Object(n.jsx)(Xn.a,{color:"primary"}):Object(n.jsx)(Jn.a,{color:"primary"}),fullWidth:!0,onClick:this.openMenu,style:{textTransform:"none"},children:this.props.pollsType}),Object(n.jsxs)(Kn,{id:"customized-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose,children:[Object(n.jsxs)(_n,{onClick:this.handleEveryOneClick,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Xn.a,{fontSize:"small"})}),Object(n.jsx)(Ga.a,{primary:"Everyone can reply"})]}),Object(n.jsxs)(_n,{onClick:this.handleFollowerClick,children:[Object(n.jsx)(Ha.a,{children:Object(n.jsx)(Zn.a,{fontSize:"small"})}),Object(n.jsx)(Ga.a,{primary:"People you follow"})]})]})]}),Object(n.jsxs)(ge.a,{item:!0,sm:12,xs:12,children:[Object(n.jsx)(Ct.a,{}),Object(n.jsx)(Fe.a,{variant:"text",fullWidth:!0,onClick:this.props.pollonRemove,autoCapitalize:!1,style:{color:"red"},children:"Remove Poll"})]})]})})})}}]),a}(s.Component),Kn=Oe()({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(n.jsx)(In.a,Object(m.a)({elevation:0,anchorEl:e.anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),_n=Oe()((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(yn.a),$n=Object(Ma.a)((function(e){return{root:{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"#fcfcfb",transition:e.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:"#fff"},"&$focused":{backgroundColor:"#fff",boxShadow:"".concat(Object(pn.d)(e.palette.primary.main,.25)," 0 0 0 2px"),borderColor:e.palette.primary.main}},focused:{}}}));function es(e){var t=$n();return Object(n.jsx)(Ke.a,Object(m.a)({InputProps:{classes:t,disableUnderline:!0}},e))}var ts=Oe()((function(e){return{root:Object(Ze.a)({marginTop:10,marginBottom:10,padding:"2px 4px",display:"flex",alignItems:"center",width:500},e.breakpoints.down("xs"),{width:300}),daysBox:Object(Ze.a)({width:146,margin:10},e.breakpoints.down("xs"),{width:80,margin:10}),input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}))(Qn),as=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={open:!1,body:"",polls:[],pollsType:"Everyone can reply",pollsExpiry:[0,0,0],files:[],errors:{},type:""},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({body:"",open:!1,errors:{},files:[],polls:[],pollsExpiry:[0,0,0]}),e.props.clearErrors()},e.handleChange=function(t){var a=t.target.value;e.setState(Object(Ze.a)({},t.target.name,a))},e.handleSubmit=function(t){t.preventDefault();var a={};return e.state.files&&e.state.files.length>0&&(a.files=e.state.files.map((function(e){return e.blob})),a.filename=e.state.files.map((function(e){return e.finalName}))),e.state.polls.length>0&&(a.polls=e.state.polls,a.pollsAttributes={pollsType:e.state.pollsType,pollsExpiry:e.state.pollsExpiry}),a.body=e.state.body,e.props.addScreen(a)},e.removeMedia=function(t){var a=t.target.getAttribute("index");if(a.includes("-preview")){var n=a.split("-")[0];e.state.files.splice(n,1),a=n,a--}e.state.files.splice(a,1),e.setState({files:e.state.files}),console.log("after media remove",e.state.files)},e.handleFileSelection=function(t){try{var a=t.target.files[0];console.log("file",t,"input ",a);var n=URL.createObjectURL(a),s="".concat(Math.round(1e5*Math.random()));"video/mp4"===a.type&&e.setPreview(a,a.name,s,Object(ca.a)(e));var o={name:a.name,uri:n,blob:a,finalName:s,type:a.type};"audio/mpeg"===a.type?e.state.files.unshift(o):e.state.files.push(o),e.setState({files:e.state.files})}catch(r){}},e.setPreview=function(){var e=Object(Mn.a)(Ln.a.mark((function e(t,a,n,s){var o;return Ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading preview",t),o=function(e){return new Promise((function(t,a){var n=document.getElementById("video");n.addEventListener("canplay",(function(){t({video:n,duration:Math.round(1e3*n.duration),height:n.videoHeight,width:n.videoWidth})})),n.src=URL.createObjectURL(e),document.body.appendChild(n),n.play(),setTimeout((function(){n.pause()}),2e3)}))},e.abrupt("return",o(t).then((function(e){var t=document.createElement("canvas");t.height=e.height,t.width=e.width,t.getContext("2d").drawImage(e.video,0,0);var o=t.toDataURL("image/png"),r={name:"".concat(a),uri:o,blob:o,finalName:n+"_preview",type:"image/png"};s.state.files.push(r),s.setState({files:s.state.files})})));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),e.handleImageClick=function(t){e.activateMediaSelector("image/*")},e.handleVideoClick=function(t){e.activateMediaSelector("video/*")},e.handleAudioClick=function(t){e.activateMediaSelector("audio/*")},e.removePolls=function(){console.log("Handle polls click clicked",e.state.polls.length),e.setState({polls:[]}),console.log("new state",e.state)},e.handleChangeInPollsExpiry=function(t,a){var n=e.state.pollsExpiry;n[a]=parseInt(t),e.setState({pollsExpiry:n}),console.log(e.state)},e.handlePollsType=function(t){e.setState({pollsType:t})},e.addPolls=function(){var t=e.state.polls;t.push(""),e.setState({polls:t})},e.handlePollOptionTextChange=function(t){console.log("id",t.target.getAttribute("id"));var a=t.target.getAttribute("id"),n=e.state.polls;n[parseInt(a)]=t.target.value,e.setState({polls:n})},e.activateMediaSelector=function(e){var t=document.getElementById("file");console.log("file type is",e),t.accept=e,t.click()},e.handlePollsClick=function(){console.log("Handle polls click clicked",e.state.polls.length),0===e.state.polls.length&&e.setState({polls:["",""]})},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||!this.state.body||this.handleClose()}},{key:"componentDidMount",value:function(){console.log("did mount visisble")}},{key:"render",value:function(){var e=this.state.errors,t=this.props,a=t.classes,o=t.smallScreen,r=t.UI.loading,i=o?Object(n.jsx)(zn.a,{color:"primary","aria-label":"add",onClick:this.handleOpen,className:a.fab,style:{zIndex:10},children:Object(n.jsx)(Wn.a,{})}):Object(n.jsx)(Te,{onClick:this.handleOpen,tip:"Post a screen!",btnClassName:a.bt,children:Object(n.jsx)(Wn.a,{htmlColor:"#ffffff"})});return Object(n.jsxs)(s.Fragment,{children:[i,Object(n.jsxs)(Ae.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"xs"===this.props.width?null:"sm",fullScreen:"xs"===this.props.width,children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Te,{tip:"Close",onClick:this.handleClose,children:Object(n.jsx)(at.a,{})}),Object(n.jsx)(Ue.a,{children:"Post a new screen"})]}),Object(n.jsxs)(et.a,{children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(Ke.a,{name:"body",type:"text",label:"SCREEN",multiline:!0,rows:"3",placeholder:"What's in your mind",error:!!e.body,helperText:e.body,className:a.textField,onChange:this.handleChange,fullWidth:!0}),this.state.files&&Object(n.jsx)(qn,{removeMedia:this.removeMedia,files:this.state.files}),this.state.polls.length>0&&Object(n.jsx)(ts,{pollonRemove:this.removePolls,pollonAdd:this.addPolls,polls:this.state.polls,pollsClass:a.polls,handlePollsType:this.handlePollsType,pollsType:this.state.pollsType,handleChangeInPollsExpiry:this.handleChangeInPollsExpiry,handleChange:this.handlePollOptionTextChange}),Object(n.jsxs)(ge.a,{container:!0,children:[Object(n.jsx)(ge.a,{item:!0,xs:2,children:Object(n.jsx)(Te,{onClick:this.handleImageClick,tip:"Add photo",children:Object(n.jsx)(Yn.a,{color:"primary"})})}),Object(n.jsx)(ge.a,{item:!0,xs:2,children:Object(n.jsx)(Te,{onClick:this.handleVideoClick,tip:"Add video",children:Object(n.jsx)(Hn.a,{color:"primary"})})}),Object(n.jsx)(ge.a,{item:!0,xs:2,children:Object(n.jsx)(Te,{onClick:this.handleAudioClick,tip:"Add audio",children:Object(n.jsx)(Gn.a,{color:"primary"})})}),Object(n.jsx)(ge.a,{item:!0,xs:2,children:Object(n.jsx)(Te,{onClick:this.handlePollsClick,tip:"Add poll",children:Object(n.jsx)(Nt.a,{color:"primary"})})})]}),Object(n.jsx)("input",{type:"file",id:"file",onChange:this.handleFileSelection,hidden:"hidden"}),Object(n.jsxs)(Fe.a,{type:"submit",variant:"contained",color:"primary",className:a.submitButton,disabled:r,children:["Submit",r&&Object(n.jsx)(Qe.a,{size:30,className:a.progressSpinner})]})]}),Object(n.jsx)("video",{id:"video",width:"420",muted:!0,style:{display:"none"},children:Object(n.jsx)("source",{})})]})]})]})}}]),a}(s.Component),ns=Object(It.a)()(Object(h.b)((function(e){return{UI:e.UI}}),{postScreen:function(e){return function(t){if(t({type:S}),console.log(e),e.polls&&e.polls.length>0&&""===e.body)t({type:C,payload:{body:"Must not be empty"}});else try{ne.a.post("/screens",e).then((function(e){console.log("Screen uploaded",e.data),t({type:B,payload:e.data.resScreen}),t({type:k})})).catch((function(e){console.log("Error received",e),t({type:C,payload:e.response.data})}))}catch(a){}}},clearErrors:Me,postScreenWithMedia:function(e,t){return function(a){if(a({type:S}),e.polls.length>0&&""===t)a({type:C,payload:{body:"Must not be empty"}});else{console.log("sending screen with media",e);var n=new De;e.files.map((function(t,a){return console.log("items",t),e.filename[a].includes("_preview")?n.append(e.filename[a],Le(t,"".concat(e.filename[a],".png"),"image/png")):n.append(e.filename[a],t)})),console.log("sending screen data ready",n),ne.a.post("/screens/new/".concat(t),n).then((function(e){console.log("Screen uploaded",e.data);try{a({type:B,payload:e.data.resScreen}),a({type:k})}catch(t){}})).catch((function(e){console.log("Error received",e.response.data),a({type:C,payload:e.response.data})}))}}},addScreen:function(e){return function(t){if(t({type:S}),console.log(e),e.polls&&e.polls.length>0&&""===e.body)t({type:C,payload:{body:"Must not be empty"}});else{if(e.polls&&e.polls.length>0){for(var a=0,n=0;n<e.polls.length;n++){var s=e.polls[n];if((!s||s&&""===s.trim())&&a++,2===a||1===a&&2===e.polls.length)return t({type:V,payload:"Atleast two option is required in polls"}),void t({type:E})}if(a=0,e.pollsAttributes.pollsExpiry.forEach((function(e){return 0===e&&a++})),3===a)return t({type:V,payload:"Please select poll expiry"}),void t({type:E})}var o=function(e){var t=new De;return t.append("body",e.body),e.polls&&(t.append("polls",JSON.stringify(e.polls)),t.append("pollsAttributes",JSON.stringify(e.pollsAttributes))),e.files&&e.files.length>0&&e.files.map((function(a,n){return console.log("items",a),e.filename[n].includes("_preview")?t.append(e.filename[n],Le(a,"".concat(e.filename[n],".png"),"image/png")):t.append(e.filename[n],a)})),t}(e);try{ne.a.post("/screen",o).then((function(e){console.log("Screen uploaded",e.data),t({type:B,payload:e.data.resScreen}),t({type:k})})).catch((function(e){console.log("Error received",e),t({type:C,payload:e.response.data})}))}catch(r){}}}}})(Object(qe.a)((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{submitButton:{position:"relative",float:"right"},progressSpinner:{position:"absolute"},closeButton:{position:"absolute",left:"90%",top:"4%"},bt:{marginLeft:"auto"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},polls:{maxWidth:"75%",marginTop:20,marginBottom:20}})}))(as))),ss=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var e=document.getElementById("search").value;window.location.href="/search/?type=handle&key=".concat(e)},e.showContainer=function(){return!!("page"===e.props.from&&window.location.pathname.includes("/search")||"nav"===e.props.from&&!window.location.pathname.includes("/search"))},e.seeMoreMarkup=function(){if("nav"===e.props.from)return Object(n.jsx)("div",{className:e.props.classes.link,onClick:e.handleClick,children:Object(n.jsx)(Ie.a,{onClick:e.handleClick,variant:"subtitle2",children:"See more"})});console.log("not showing see more since from is ",e.props.from)},e.getTypeContainer=function(t,a){return"users"===t.type?Object(n.jsx)(Tt,{user:t},a):"screens"===t.type?Object(n.jsx)(Wt,{history:e.props.history,screen:t},t.screenId):void 0},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data.searchResult,a=this.props,r=a.classes,i=(a.from,a.customStyle),c=a.UI,l=c.searchActive;c.searchInactive;console.log("from",this.props);var d=t?t.map((function(t,a){return e.getTypeContainer(t,a)})):null;return Object(n.jsx)(s.Fragment,{children:l&&t&&t.length>0&&Object(n.jsx)(Ce.a,{variant:"outlined",className:r.searchResultContainer,style:i,children:Object(n.jsxs)(Se.a,{children:["nav"!==this.props.from&&t&&Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)("p",{style:{marginTop:0},children:["Found ",t.length," results"," "]}),Object(n.jsx)(Ct.a,{style:{marginLeft:-16,marginBottom:10,marginRight:-16}})]}),d,this.seeMoreMarkup()]})})})}}]),a}(s.Component),os=Object(h.b)((function(e){return{UI:e.UI,data:e.data}}),null)(Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{search:Object(Ze.a)({marginRight:e.spacing(2),marginLeft:0},e.breakpoints.up("sm"),{marginLeft:e.spacing(3)})})}))(ss)),rs=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.authenticated,a=e.classes,o=e.width,r=e.error,i=e.message;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(jn.a,{className:a.appBar,children:Object(n.jsx)(bn.a,{className:"nav-container",style:{width:"100%"},children:Object(n.jsxs)(ge.a,{alignItems:"center",container:!0,spacing:2,children:["xs"!==o&&Object(n.jsx)(ge.a,{item:!0,children:Object(n.jsx)(Ie.a,{className:a.title,variant:"h6",noWrap:!0,children:"LetsSocially"})}),Object(n.jsx)(ge.a,{item:!0,lg:5,xs:7,sm:6,style:{placeItems:"center"},children:!window.location.href.includes("/search/")&&Object(n.jsx)(un,{from:"nav"})}),t?Object(n.jsxs)(ge.a,{item:!0,lg:5,xs:5,sm:3,style:{textAlign:"xs"===o?"center":"end"},children:["lg"===o&&Object(n.jsx)(ns,{}),Object(n.jsx)(le.b,{to:"/",children:Object(n.jsx)(Te,{tip:"Home",children:Object(n.jsx)(gn.a,{htmlColor:"#ffffff"})})}),Object(n.jsx)(Pn,{}),Object(n.jsx)(kn,{})]}):Object(n.jsxs)(ge.a,{item:!0,lg:5,xs:5,sm:3,style:{textAlign:"xs"===o?"center":"end"},children:[Object(n.jsx)(Fe.a,{color:"inherit",component:le.b,to:"/login",children:"Login"}),Object(n.jsx)(Fe.a,{color:"inherit",component:le.b,to:"/signup",children:"Signup"})]})]})})}),t&&"lg"!==o&&Object(n.jsx)(ns,{smallScreen:!0}),r&&Object(n.jsx)(Ba,{type:"error",open:!0,message:r}),i&&Object(n.jsx)(Ba,{type:"success",open:!0,message:i})]})}}]),a}(s.Component),is=Object(It.a)()(Object(h.b)((function(e){return{authenticated:e.user.authenticated,error:e.user.error,message:e.user.message}}))(Oe()((function(e){return Object(m.a)(Object(m.a)({},e.spreadIt),{},{title:Object(Ze.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),appBar:{zIndex:e.zIndex.drawer+1}})}))(rs))),cs=a(344),ls=a(345),ds=a(348),ps=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.params,s=a.handle,o=a.username,r=a.email,i=a.hashtag,c=(a.screen,a.followers),l=e.onChange;return console.log("filters",this.props),Object(n.jsx)(Ce.a,{children:Object(n.jsxs)(Se.a,{children:[Object(n.jsx)(Ie.a,{variant:"h6",className:t.title,children:"Advance Search"}),Object(n.jsx)("hr",{className:t.horizontalDivider}),Object(n.jsxs)(cs.a,{children:[Object(n.jsx)(Ie.a,{variant:"subtitle1",className:t.title,children:"User"}),Object(n.jsx)(ls.a,{control:Object(n.jsx)(ds.a,{checked:s,onChange:l,color:"primary",name:"handle"}),classes:t,labelPlacement:"start",label:"User handle"}),Object(n.jsx)(ls.a,{control:Object(n.jsx)(ds.a,{checked:o,onChange:l,color:"primary",name:"username"}),classes:t,labelPlacement:"start",label:"Username"}),Object(n.jsx)(ls.a,{classes:t,control:Object(n.jsx)(ds.a,{checked:r,onChange:l,color:"primary",name:"email"}),labelPlacement:"start",label:"Email"}),Object(n.jsx)(Ie.a,{variant:"subtitle1",className:t.title,children:"Screen"}),Object(n.jsx)(ls.a,{control:Object(n.jsx)(ds.a,{checked:i,color:"primary",onChange:l,name:"hashtag"}),classes:t,labelPlacement:"start",label:"Hashtag"}),Object(n.jsx)(Ie.a,{variant:"subtitle1",className:t.title,children:"Account"}),Object(n.jsx)(ls.a,{control:Object(n.jsx)(ds.a,{color:"primary",checked:c,onChange:l,name:"followers"}),classes:t,labelPlacement:"start",label:"Followers"})]})]})})}}]),a}(s.Component),hs=Oe()((function(e){return{horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:"10px",borderTop:"0px solid #eff1f3"},title:{fontWeight:"bold"},root:{display:"flex",justifyContent:"space-between"}}}))(ps),us=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={handle:!0,username:!0,email:!1,hashtag:!1,followers:!1,filter:[],filterMap:{handle:"users",username:"users-username",email:"users-email",hashtag:"screens-hashtag",followers:"users-followers"}},e.handleChange=function(t){console.log("checkbox clicked"),e.setState(Object(Ze.a)({},t.target.name,t.target.checked)),e.handleFilterChange(t.target.name,t.target.checked)},e.handleFilterChange=function(t,a){if(a)e.state.filter.includes(t)||e.state.filter.push(e.state.filterMap[t]);else{var n=e.state.filter.indexOf(e.state.filterMap[t]);e.state.filter.splice(n,1)}e.setState({filter:e.state.filter})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search).get("type");if(null!==e){var t;this.setState((t={username:!1,handle:!1},Object(Ze.a)(t,e,!0),Object(Ze.a)(t,"filter",[]),t)),this.handleFilterChange(e,!0)}else{var a={filter:["users","users-username"]};this.setState(a),this.setState({filter:a})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.width;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(ge.a,{container:!0,spacing:"xs"===a?0:5,justify:"center",className:t.gridRoot,children:["xs"!==this.props.width&&Object(n.jsx)(ge.a,{item:!0,sm:3,lg:3,xs:12,style:{width:"60em"},children:Object(n.jsx)(hs,{onChange:this.handleChange,params:this.state})}),Object(n.jsxs)(ge.a,{className:t.root,item:!0,sm:6,lg:6,xs:12,style:this.items,children:[Object(n.jsx)(un,{from:"page",defaultValue:new URLSearchParams(window.location.search).get("key"),filter:this.state.filter,customStyle:{borderColor:"#369fff",borderWidth:1,width:"auto",marginRight:0,marginLeft:0,borderStyle:"solid",backgroundColor:"#ffffff"},searchIconColor:"primary"}),Object(n.jsx)(os,{from:"page",customStyle:{width:"auto",position:"inherit",marginTop:14}})]}),Object(n.jsxs)(ge.a,{item:!0,sm:3,lg:3,xs:12,style:this.items,children:["xs"===this.props.width&&Object(n.jsx)(hs,{onChange:this.handleChange,params:this.state}),Object(n.jsx)(ha,{width:this.props}),Object(n.jsx)(ma,{})]})]})})}}]),a}(s.Component),js=Object(It.a)()(Object(qe.a)((function(e){return{checkBoxStyle:{marginTop:10,marginRight:0,".MuiTypography-body1":{marginRight:"auto"},label:{marginRight:"auto"}},horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:"10px",borderTop:"0px solid #eff1f3"},title:{fontWeight:"bold"},root:{width:"-webkit-fill-available"},gridRoot:{width:"100%"}}}))(us));ne.a.defaults.baseURL="https://asia-south1-letssocially.cloudfunctions.net/api";var bs,ms=ue()({palette:{secondary:{light:"#7530ff",dark:"#7530ff",contrastText:"#ffffff",main:"#7530ff"},primary:{main:"#369fff",light:"#369fff",dark:"#7530ff",contrastText:"#ffffff"}},spreadIt:{subTitle:{color:"#8e8e8e",marginTop:4},title:{color:"#000000",fontWeight:"bold",marginTop:10},horizontalDivider:{borderColor:"#eff1f3",marginLeft:-17,marginRight:-17,marginTop:"auto",borderTop:"0px solid #eff1f3"},link:{paddingTop:5,marginTop:-8,width:"inherit",textDecoration:"none",marginLeft:-16,marginRight:-16,"&:hover":{cursor:"pointer",background:"#eff1f3"}},searchResultContainer:{width:"32em",zIndex:1,position:"fixed",marginTop:14},typography:{useNextVariants:!0},form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},textField:{margin:"5px auto 10px auto"},pageTitle:{margin:"5px auto 10px auto"},button:{marginTop:"20px",position:"relative"},customError:{color:"red",fontSize:".8rem",marginTop:"10"},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative",marginRight:-20,marginLeft:-21,"& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:134,height:134,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"start",marginTop:18,"& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}},hiddenBt:{display:"none"}}}),gs=localStorage.FBIdToken;gs?100*Object(je.a)(gs).esp<Date.now()||!localStorage.getItem("handle")?(te.dispatch(se()),window.location.href="/login"):(te.dispatch({type:g}),ne.a.defaults.headers.common.Authorization=gs,te.dispatch(oe())):localStorage.removeItem("handle");var fs=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(pe.a,{theme:ms,children:Object(n.jsx)(h.a,{store:te,children:Object(n.jsxs)(le.a,{children:[Object(n.jsx)(is,{props:this.props}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(de.d,{children:[Object(n.jsx)(de.b,{exact:!0,path:"/",component:wa}),Object(n.jsx)(me,{exact:!0,path:"/login",component:Ia,authenticated:bs}),Object(n.jsx)(me,{exact:!0,path:"/signup",component:Fa,authenticated:bs}),Object(n.jsx)(de.b,{exact:!0,path:"/user/:handle",component:ln}),Object(n.jsx)(de.b,{exact:!0,path:"/user/:handle/screen/:screenId",component:ln}),Object(n.jsx)(de.b,{exact:!0,path:"/search/",component:js})]})})]})})})}}]),a}(s.Component),Os=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,353)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),o(e),r(e)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(fs,{})}),document.getElementById("root")),Os()}},[[262,1,2]]]);